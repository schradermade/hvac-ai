{
  "account": "success-nathan-schrader",
  "profile": "main",
  "versionTitle": "Version 2026.01.13.2354",
  "version": "202601132354",
  "minorVersion": "202601132354",
  "parentVersion": "202601132346",
  "creation": "202504071919",
  "customTargets": null,
  "versionDetails": {
    "publishedLocations": {
      "qa": true,
      "prod": true,
      "dev": true
    },
    "user": "nathan.schrader@tealium.com",
    "notes": "Version 2026.01.13.2354"
  },
  "environmentVersions": {
    "prod": "202601132354",
    "qa": "202601132354",
    "dev": "202601132354"
  },
  "dataCloudLinkedProfiles": "main",
  "libraryType": "NONE",
  "linkedProfiles": null,
  "linkedLibraries": [],
  "events": [
    {
      "id": 21,
      "eventId": 100045,
      "name": "Add to Cart",
      "status": "active",
      "eventType": "mouseevents",
      "scope": "DOM Ready",
      "trackingEvent": "link",
      "notes": "",
      "library": null,
      "eventLoadRuleList": "11",
      "eventTrigger": {
        "object": "mouseevents",
        "cssSelector": ".add-to-cart-buttons , .btn-cart , span",
        "title": "Mouse Events",
        "mouseEvent": "mousedown",
        "triggerFrequency": "runAlways"
      },
      "selectedTargets": {
        "qa": true,
        "prod": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "eventVariables": [
        {
          "variable": "udo.tealium_event",
          "type": "text",
          "value": "cart_add"
        }
      ],
      "rules": {
        "apply": [
          {
            "and": [
              {
                "or": [
                  {
                    "uid": "11",
                    "type": "loadRule"
                  }
                ]
              }
            ]
          }
        ],
        "exclude": null
      },
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 22,
      "eventId": 100045,
      "name": "Scroll Depth",
      "status": "active",
      "eventType": "scroll",
      "scope": "DOM Ready",
      "trackingEvent": "link",
      "notes": "",
      "library": null,
      "eventLoadRuleList": "11",
      "eventTrigger": {
        "object": "scroll",
        "cssSelector": "",
        "title": "Scroll Depth",
        "horizontalScrollEnabled": false,
        "horizontalScrollUnit": "percent",
        "horizontalScrollValues": null,
        "verticalScrollEnabled": true,
        "verticalScrollUnit": "percent",
        "verticalScrollValues": [50, 75, 90]
      },
      "selectedTargets": {
        "prod": true,
        "qa": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "eventVariables": [
        {
          "variable": "udo.tealium_event",
          "type": "text",
          "value": "scroll"
        }
      ],
      "rules": {
        "apply": [
          {
            "and": [
              {
                "or": [
                  {
                    "uid": "11",
                    "type": "loadRule"
                  }
                ]
              }
            ]
          }
        ],
        "exclude": null
      },
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    }
  ],
  "extensions": [
    {
      "id": 1,
      "extensionId": 100005,
      "name": "E-commerce",
      "status": "inactive",
      "extensionType": "E-commerce",
      "scope": "After Load Rules",
      "occurrence": "Run Always",
      "notes": "Added via Tealium Data Layer Wizard by: nathan.schrader@tealium.com",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "dev": true,
        "qa": true,
        "prod": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "cpromo": "js.order_coupon_code",
        "ctax": "js.order_tax",
        "ctotal": "js.order_total",
        "cprice": "js.product_unit_price",
        "corder": "js.order_id",
        "cpdisc": "js.product_discount",
        "totalcalculate": false,
        "ccustid": "js.customer_id",
        "cbrand": "js.product_brand",
        "csubtotal": "js.order_subtotal",
        "output": "_cprod,_cprodname,_cbrand,_ccat,_ccat2,_corder,_ccurrency,_cquan,_cprice,_ctype,_ctotal,_csubtotal,_csku,_cship,_cstore,_ctax,_cpdisc,_ccustid,_ccity,_cstate,_czip,_ccountry,_cpromo",
        "pricetype": "unit",
        "cprodname": "js.product_name",
        "listtype": "array",
        "cquan": "js.product_quantity",
        "cprod": "js.product_id",
        "ccat2": "js.product_subcategory",
        "cstore": "js.order_store",
        "constructor": "",
        "separator": ",",
        "ccity": "js.customer_city",
        "czip": "js.customer_zip",
        "cstate": "js.customer_state",
        "ctype": "js.order_type",
        "csku": "js.product_sku",
        "ccurrency": "js.order_currency",
        "cship": "js.order_shipping",
        "ccountry": "js.customer_country",
        "initialize": "",
        "ccat": "js.product_category"
      }
    },
    {
      "id": 3,
      "extensionId": 100003,
      "name": "Change homepage page_type variable",
      "status": "inactive",
      "extensionType": "Set Data Values",
      "scope": "Before Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "dev": true,
        "qa": true,
        "prod": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [
        [
          {
            "variable": "dom.pathname",
            "operator": "equals",
            "value": "/"
          }
        ]
      ],
      "configuration": {
        "configs": [
          {
            "set": "js.page_type",
            "settotext": "homepage",
            "setoption": "text",
            "settovar": ""
          }
        ],
        "constructor": "",
        "initialize": ""
      }
    },
    {
      "id": 4,
      "extensionId": 100004,
      "name": "Ads Campaign",
      "status": "inactive",
      "extensionType": "Persist Data Value",
      "scope": "Before Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "dev": true,
        "qa": true,
        "prod": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [
        [
          {
            "variable": "qp.utm_campaign",
            "operator": "populated",
            "value": ""
          }
        ]
      ],
      "configuration": {
        "persistencetext": "",
        "setoption": "var",
        "var": "cp.ads_campaign_id",
        "settotext": "",
        "constructor": "",
        "allowupdate": "multiple",
        "persistence": "session",
        "initialize": "",
        "settovar": "qp.utm_campaign"
      }
    },
    {
      "id": 5,
      "extensionId": 100032,
      "name": "Carousel Tracking",
      "status": "inactive",
      "extensionType": "jQuery onHandler (1.7 and above)",
      "scope": "DOM Ready",
      "occurrence": "Run Once",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "qa": true,
        "prod": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "handler": "link",
        "configs": [
          {
            "set": "js.eventAction",
            "settotext": "navigation",
            "setoption": "text",
            "settovar": ""
          },
          {
            "set": "js.eventCategory",
            "settotext": "carousel",
            "setoption": "text",
            "settovar": ""
          },
          {
            "set": "js.eventLabel",
            "setoption": "code",
            "settotext": "jQuery(this).attr(\"class\").split('-')[1];",
            "settovar": ""
          }
        ],
        "code": "",
        "constructor": "",
        "selector": "span.slideshow-prev, span.slideshow-next",
        "initialize": "",
        "primaryselector": "",
        "event": "mousedown"
      }
    },
    {
      "id": 10,
      "extensionId": 100020,
      "name": "GUA - Postfix lookup",
      "status": "inactive",
      "extensionType": "Lookup Table",
      "scope": "After Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "prod": true,
        "qa": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "configs": [
          {
            "name": "2",
            "comment": "",
            "value": "2"
          },
          {
            "name": "3",
            "comment": "",
            "value": "3"
          },
          {
            "logic": "false"
          }
        ],
        "vartype": "string",
        "settotext": "1",
        "var": "js.gua_postfix_num",
        "constructor": "",
        "filtertype": "contains",
        "initialize": "",
        "varlookup": "qp.gua"
      }
    },
    {
      "id": 11,
      "extensionId": 100002,
      "name": "gua__concat__gua_postfix_num",
      "status": "inactive",
      "extensionType": "Join Data Values",
      "scope": "After Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "prod": true,
        "qa": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "configs": [
          {
            "set": "qp.gua"
          },
          {
            "set": "js.gua_postfix_num"
          },
          {
            "text": ""
          }
        ],
        "leadingdelimiter": false,
        "delimiter": "-",
        "var": "js.gua_revised",
        "174491001103000016_set_text": "",
        "constructor": "",
        "defaultvalue": "",
        "initialize": ""
      }
    },
    {
      "id": 12,
      "extensionId": 100032,
      "name": "Remove Item from Cart Tracking",
      "status": "inactive",
      "extensionType": "jQuery onHandler (1.7 and above)",
      "scope": "DOM Ready",
      "occurrence": "Run Once",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "qa": true,
        "prod": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "handler": "custom",
        "configs": [
          {
            "set": "",
            "settotext": "",
            "setoption": "text",
            "settovar": ""
          }
        ],
        "code": "var product_name = jQuery(this).parent().parent().first()[0].childNodes[1].childNodes[1]; product_name = jQuery(product_name).attr('title'); console.log(product_name + \" was removed from cart\"); utag.link({ tealium_event: \"cart_remove\", event_type: \"button\", event_target: \"click\", event_attr1: product_name}, function() { utag.DB(\"Product Remove has been tracked\");} );",
        "constructor": "",
        "selector": "btn-remove",
        "initialize": "",
        "event": "click",
        "primaryselector": ""
      }
    },
    {
      "id": 13,
      "extensionId": 100040,
      "name": "Scroll Tracking",
      "status": "inactive",
      "extensionType": "Advanced Javascript Code",
      "scope": "DOM Ready",
      "occurrence": "Run Once",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "dev": true,
        "qa": true,
        "prod": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "blockPubTargetsLogic": "true",
        "constructor": "",
        "codeDevData": {
          "promotedSnippets": {
            "6754af9632a2745e85c293e5aac0863370d9bd3330b9938c00cadfd215227d77": {
              "promotedBy": "nathan.schrader@tealium.com",
              "promotedTimestamp": "202504232029",
              "code": "/*\n * Scroll tracking script\n * Based on v1.1.2 Scroll Tracking by AdSwerve, updated to work with Tealium\n * Original: https://adswerve.com/blog/a-better-mobile-ready-scroll-tracking-js-snippet-for-gtm/\n * Scope: DOM Ready\n * Conditions: any page needing scroll tracking\n */\n \n(function tealScroll() {\n \n  // Do we have a Tealium utag object available?\n  if (typeof utag !== 'object') { throw new Error(\"utag not available!\"); }\n \n  //** OPTION 1 **\n  // Configures how often script checks for the current milestone\n  var threshold = 2000;\n \n  //** OPTION 2 **\n  // Configures milestones to track\n  // Add in numbers (in order) of wanted %s\n  var milestones = [25, 50, 75, 100];\n \n  //** OPTION 3 **\n  // Track 0% true or false\n  // if true, milestones array above must start with 0\n  // tracking 0% event can be useful for easier calculated metrics\n  var trackZero = false;\n \n  //\n  //** DO NOT MODIFY BELOW THIS LINE! **\n  //\n \n  // Determine whether user wants to track 0% depth.\n  var lowerBound;\n  if (trackZero === true) {\n    lowerBound = -1;\n  }\n  else {\n    lowerBound = 0;\n  }\n \n  // Setup record of which milestones have fired.\n  var milestonesFired = [];\n \n  // The previous lower bound is set to 0 so data is not sent with no activity\n  var pastMilestone = lowerBound;\n \n  // Initialize our timeoutID\n  var timeoutID;\n \n  // Function to make value a string\n  function formatLabel(i) {\n    return milestones[i].toString();\n    //return milestones[i].toString() + \"%\";\n  }\n \n  // setup the math functions\n  var deepestScroll = lowerBound, max = Math.max, _round = Math.round;\n \n  // Get the window height\n  function getwinheight(W, D) {\n    return W.innerHeight || (D.documentElement ? D.documentElement.clientHeight : D.body.clientHeight) || D.body.clientHeight;\n  }\n \n  // Get the scroll height from the top of the window\n  function getscroll(W, D) {\n    return W.pageYOffset || (D.documentElement ? D.documentElement.scrollTop : D.body.scrollTop) || D.body.scrollTop;\n  }\n \n  // Get the document height\n  function getdocheight(D) {\n    var b = D.body, e = D.documentElement;\n    return D.height || max(\n      max(b.scrollHeight, e.scrollHeight),\n      max(b.offsetHeight, e.offsetHeight),\n      max(b.clientHeight, e.clientHeight)\n    );\n  }\n \n  // Calculate the percentage below the fold\n  function currentPercentageBelowFold(window, document) {\n    var window_height = getwinheight(window, document);\n    var document_height = getdocheight(document);\n    var scroll_overhead = getscroll(window, document);\n \n    var pixels_below = (document_height - (window_height + scroll_overhead));\n    var percent_scrolled = 100 * (pixels_below / document_height);\n    return (percent_scrolled);\n  }\n \n  // Calculate the percentage above the fold\n  function currentPercentageViewed(window, document) {\n    return 100 - currentPercentageBelowFold(window, document);\n  }\n \n  function pushCleanupMilestones(index) {\n    // Make sure you don't push the current depth as part of the cleanup.\n    milestonesFired.push(milestones[index]);\n    for (var j = 0; j < index; j++) {\n      if (!milestonesFired.includes(milestones[j])) {\n        // Make sure the cleanup milestones only fire once.\n        milestonesFired.push(milestones[j]);\n        var label = formatLabel(j);\n        // Fire utag.link\n        utag.link({\n          tealium_event: 'user_scroll',\n          scroll_threshold: label,\n          scroll_units: 'percent',\n          scroll_direction: 'vertical',\n          // Set up variables to send to Google Universal Analytics\n          event_type: 'Behavior',\n          event_target: 'Scroll',\n          event_attr1: label\n        });\n      }\n    }\n  }\n \n  // Called if user passes into new milestone and is there beyond the threshold time limit\n  function pushMilestone(index) {\n    // Calls formatLabel function to create label to push to Tealium\n    var label = formatLabel(index);\n    pushCleanupMilestones(index);\n    // Fire utag.link\n    utag.link({\n      tealium_event: 'user_scroll',\n      scroll_threshold: label,\n      scroll_unit: 'percent',\n      scroll_direction: 'vertical',\n      // Set up variables to send to Google Universal Analytics\n      event_type: 'Behavior',\n      event_target: 'Scroll',\n      event_attr1: label\n    });\n  }\n \n  // Whenever user scrolls, we fire this lengthly function to see if user past a milestone and\n  // if yes then push that data to Tealium\n  window.addEventListener(\"scroll\", trackScroll);\n  // mobile users don't scroll, they \"touchmove\", so track that as well.\n  window.addEventListener(\"touchmove\", trackScroll);\n \n  function trackScroll() {\n    // Make scrollDepth equal to percentage scrolled down web page\n    var scrollDepth = currentPercentageViewed(window, document);\n    // Counter for while loop\n    var count = milestones.length;\n    // Loops through each milestone to find if user has passed new milestone\n    while (count) {\n      // Decrease counter by 1\n      count--;\n      // Checks to see if current scrollDepth is over Milestone\n      if (_round(scrollDepth) >= milestones[count] && deepestScroll < milestones[count]) {\n        currentMilestone = deepestScroll = milestones[count];\n        // Checks to see if currentMilestone is different than pastMilestone\n        if (currentMilestone != pastMilestone) {\n          // Makes pastMilestone equal to currentMilestone\n          pastMilestone = currentMilestone;\n          // Make index value equal to count\n          var index = count;\n          //Clears threshold timer if still in progress\n          window.clearTimeout(timeoutID);\n          // Start threshold timer to push to Tealium if user stays in milestone\n          timeoutID = window.setTimeout(pushMilestone(index), threshold);\n        }\n        // Terminate while loop\n        count = 0;\n      }\n \n    }\n  }\n \n})();\n",
              "name": "prod",
              "promotedDraftName": "Draft 2"
            },
            "ef260e9aa3c673af240d17a2660480361a8e081d1ffeca2a5ed0e3219fc18567": {
              "promotedDraftName": "Draft 2",
              "name": "dev",
              "code": "/*\n * Scroll tracking script\n * Based on v1.1.2 Scroll Tracking by AdSwerve, updated to work with Tealium\n * Original: https://adswerve.com/blog/a-better-mobile-ready-scroll-tracking-js-snippet-for-gtm/\n * Scope: DOM Ready\n * Conditions: any page needing scroll tracking\n */\n \n(function tealScroll() {\n \n  // Do we have a Tealium utag object available?\n  if (typeof utag !== 'object') { throw new Error(\"utag not available!\"); }\n \n  //** OPTION 1 **\n  // Configures how often script checks for the current milestone\n  var threshold = 2000;\n \n  //** OPTION 2 **\n  // Configures milestones to track\n  // Add in numbers (in order) of wanted %s\n  var milestones = [25, 50, 75, 100];\n \n  //** OPTION 3 **\n  // Track 0% true or false\n  // if true, milestones array above must start with 0\n  // tracking 0% event can be useful for easier calculated metrics\n  var trackZero = false;\n \n  //\n  //** DO NOT MODIFY BELOW THIS LINE! **\n  //\n \n  // Determine whether user wants to track 0% depth.\n  var lowerBound;\n  if (trackZero === true) {\n    lowerBound = -1;\n  }\n  else {\n    lowerBound = 0;\n  }\n \n  // Setup record of which milestones have fired.\n  var milestonesFired = [];\n \n  // The previous lower bound is set to 0 so data is not sent with no activity\n  var pastMilestone = lowerBound;\n \n  // Initialize our timeoutID\n  var timeoutID;\n \n  // Function to make value a string\n  function formatLabel(i) {\n    return milestones[i].toString();\n    //return milestones[i].toString() + \"%\";\n  }\n \n  // setup the math functions\n  var deepestScroll = lowerBound, max = Math.max, _round = Math.round;\n \n  // Get the window height\n  function getwinheight(W, D) {\n    return W.innerHeight || (D.documentElement ? D.documentElement.clientHeight : D.body.clientHeight) || D.body.clientHeight;\n  }\n \n  // Get the scroll height from the top of the window\n  function getscroll(W, D) {\n    return W.pageYOffset || (D.documentElement ? D.documentElement.scrollTop : D.body.scrollTop) || D.body.scrollTop;\n  }\n \n  // Get the document height\n  function getdocheight(D) {\n    var b = D.body, e = D.documentElement;\n    return D.height || max(\n      max(b.scrollHeight, e.scrollHeight),\n      max(b.offsetHeight, e.offsetHeight),\n      max(b.clientHeight, e.clientHeight)\n    );\n  }\n \n  // Calculate the percentage below the fold\n  function currentPercentageBelowFold(window, document) {\n    var window_height = getwinheight(window, document);\n    var document_height = getdocheight(document);\n    var scroll_overhead = getscroll(window, document);\n \n    var pixels_below = (document_height - (window_height + scroll_overhead));\n    var percent_scrolled = 100 * (pixels_below / document_height);\n    return (percent_scrolled);\n  }\n \n  // Calculate the percentage above the fold\n  function currentPercentageViewed(window, document) {\n    return 100 - currentPercentageBelowFold(window, document);\n  }\n \n  function pushCleanupMilestones(index) {\n    // Make sure you don't push the current depth as part of the cleanup.\n    milestonesFired.push(milestones[index]);\n    for (var j = 0; j < index; j++) {\n      if (!milestonesFired.includes(milestones[j])) {\n        // Make sure the cleanup milestones only fire once.\n        milestonesFired.push(milestones[j]);\n        var label = formatLabel(j);\n        // Fire utag.link\n        utag.link({\n          tealium_event: 'user_scroll',\n          scroll_threshold: label,\n          scroll_units: 'percent',\n          scroll_direction: 'vertical',\n          // Set up variables to send to Google Universal Analytics\n          event_type: 'Behavior',\n          event_target: 'Scroll',\n          event_attr1: label\n        });\n      }\n    }\n  }\n \n  // Called if user passes into new milestone and is there beyond the threshold time limit\n  function pushMilestone(index) {\n    // Calls formatLabel function to create label to push to Tealium\n    var label = formatLabel(index);\n    pushCleanupMilestones(index);\n    // Fire utag.link\n    utag.link({\n      tealium_event: 'user_scroll',\n      scroll_threshold: label,\n      scroll_unit: 'percent',\n      scroll_direction: 'vertical',\n      // Set up variables to send to Google Universal Analytics\n      event_type: 'Behavior',\n      event_target: 'Scroll',\n      event_attr1: label\n    });\n  }\n \n  // Whenever user scrolls, we fire this lengthly function to see if user past a milestone and\n  // if yes then push that data to Tealium\n  window.addEventListener(\"scroll\", trackScroll);\n  // mobile users don't scroll, they \"touchmove\", so track that as well.\n  window.addEventListener(\"touchmove\", trackScroll);\n \n  function trackScroll() {\n    // Make scrollDepth equal to percentage scrolled down web page\n    var scrollDepth = currentPercentageViewed(window, document);\n    // Counter for while loop\n    var count = milestones.length;\n    // Loops through each milestone to find if user has passed new milestone\n    while (count) {\n      // Decrease counter by 1\n      count--;\n      // Checks to see if current scrollDepth is over Milestone\n      if (_round(scrollDepth) >= milestones[count] && deepestScroll < milestones[count]) {\n        currentMilestone = deepestScroll = milestones[count];\n        // Checks to see if currentMilestone is different than pastMilestone\n        if (currentMilestone != pastMilestone) {\n          // Makes pastMilestone equal to currentMilestone\n          pastMilestone = currentMilestone;\n          // Make index value equal to count\n          var index = count;\n          //Clears threshold timer if still in progress\n          window.clearTimeout(timeoutID);\n          // Start threshold timer to push to Tealium if user stays in milestone\n          timeoutID = window.setTimeout(pushMilestone(index), threshold);\n        }\n        // Terminate while loop\n        count = 0;\n      }\n \n    }\n  }\n \n})();\n",
              "promotedBy": "nathan.schrader@tealium.com",
              "promotedTimestamp": "202504171857"
            },
            "3f3ef786b34d6dd716e1812c8b74a7a0e1f05aa5f3230588f6f5bcd00c6c8392": {
              "name": "qa",
              "promotedDraftName": "Draft 2",
              "promotedTimestamp": "202504232029",
              "promotedBy": "nathan.schrader@tealium.com",
              "code": "/*\n * Scroll tracking script\n * Based on v1.1.2 Scroll Tracking by AdSwerve, updated to work with Tealium\n * Original: https://adswerve.com/blog/a-better-mobile-ready-scroll-tracking-js-snippet-for-gtm/\n * Scope: DOM Ready\n * Conditions: any page needing scroll tracking\n */\n \n(function tealScroll() {\n \n  // Do we have a Tealium utag object available?\n  if (typeof utag !== 'object') { throw new Error(\"utag not available!\"); }\n \n  //** OPTION 1 **\n  // Configures how often script checks for the current milestone\n  var threshold = 2000;\n \n  //** OPTION 2 **\n  // Configures milestones to track\n  // Add in numbers (in order) of wanted %s\n  var milestones = [25, 50, 75, 100];\n \n  //** OPTION 3 **\n  // Track 0% true or false\n  // if true, milestones array above must start with 0\n  // tracking 0% event can be useful for easier calculated metrics\n  var trackZero = false;\n \n  //\n  //** DO NOT MODIFY BELOW THIS LINE! **\n  //\n \n  // Determine whether user wants to track 0% depth.\n  var lowerBound;\n  if (trackZero === true) {\n    lowerBound = -1;\n  }\n  else {\n    lowerBound = 0;\n  }\n \n  // Setup record of which milestones have fired.\n  var milestonesFired = [];\n \n  // The previous lower bound is set to 0 so data is not sent with no activity\n  var pastMilestone = lowerBound;\n \n  // Initialize our timeoutID\n  var timeoutID;\n \n  // Function to make value a string\n  function formatLabel(i) {\n    return milestones[i].toString();\n    //return milestones[i].toString() + \"%\";\n  }\n \n  // setup the math functions\n  var deepestScroll = lowerBound, max = Math.max, _round = Math.round;\n \n  // Get the window height\n  function getwinheight(W, D) {\n    return W.innerHeight || (D.documentElement ? D.documentElement.clientHeight : D.body.clientHeight) || D.body.clientHeight;\n  }\n \n  // Get the scroll height from the top of the window\n  function getscroll(W, D) {\n    return W.pageYOffset || (D.documentElement ? D.documentElement.scrollTop : D.body.scrollTop) || D.body.scrollTop;\n  }\n \n  // Get the document height\n  function getdocheight(D) {\n    var b = D.body, e = D.documentElement;\n    return D.height || max(\n      max(b.scrollHeight, e.scrollHeight),\n      max(b.offsetHeight, e.offsetHeight),\n      max(b.clientHeight, e.clientHeight)\n    );\n  }\n \n  // Calculate the percentage below the fold\n  function currentPercentageBelowFold(window, document) {\n    var window_height = getwinheight(window, document);\n    var document_height = getdocheight(document);\n    var scroll_overhead = getscroll(window, document);\n \n    var pixels_below = (document_height - (window_height + scroll_overhead));\n    var percent_scrolled = 100 * (pixels_below / document_height);\n    return (percent_scrolled);\n  }\n \n  // Calculate the percentage above the fold\n  function currentPercentageViewed(window, document) {\n    return 100 - currentPercentageBelowFold(window, document);\n  }\n \n  function pushCleanupMilestones(index) {\n    // Make sure you don't push the current depth as part of the cleanup.\n    milestonesFired.push(milestones[index]);\n    for (var j = 0; j < index; j++) {\n      if (!milestonesFired.includes(milestones[j])) {\n        // Make sure the cleanup milestones only fire once.\n        milestonesFired.push(milestones[j]);\n        var label = formatLabel(j);\n        // Fire utag.link\n        utag.link({\n          tealium_event: 'user_scroll',\n          scroll_threshold: label,\n          scroll_units: 'percent',\n          scroll_direction: 'vertical',\n          // Set up variables to send to Google Universal Analytics\n          event_type: 'Behavior',\n          event_target: 'Scroll',\n          event_attr1: label\n        });\n      }\n    }\n  }\n \n  // Called if user passes into new milestone and is there beyond the threshold time limit\n  function pushMilestone(index) {\n    // Calls formatLabel function to create label to push to Tealium\n    var label = formatLabel(index);\n    pushCleanupMilestones(index);\n    // Fire utag.link\n    utag.link({\n      tealium_event: 'user_scroll',\n      scroll_threshold: label,\n      scroll_unit: 'percent',\n      scroll_direction: 'vertical',\n      // Set up variables to send to Google Universal Analytics\n      event_type: 'Behavior',\n      event_target: 'Scroll',\n      event_attr1: label\n    });\n  }\n \n  // Whenever user scrolls, we fire this lengthly function to see if user past a milestone and\n  // if yes then push that data to Tealium\n  window.addEventListener(\"scroll\", trackScroll);\n  // mobile users don't scroll, they \"touchmove\", so track that as well.\n  window.addEventListener(\"touchmove\", trackScroll);\n \n  function trackScroll() {\n    // Make scrollDepth equal to percentage scrolled down web page\n    var scrollDepth = currentPercentageViewed(window, document);\n    // Counter for while loop\n    var count = milestones.length;\n    // Loops through each milestone to find if user has passed new milestone\n    while (count) {\n      // Decrease counter by 1\n      count--;\n      // Checks to see if current scrollDepth is over Milestone\n      if (_round(scrollDepth) >= milestones[count] && deepestScroll < milestones[count]) {\n        currentMilestone = deepestScroll = milestones[count];\n        // Checks to see if currentMilestone is different than pastMilestone\n        if (currentMilestone != pastMilestone) {\n          // Makes pastMilestone equal to currentMilestone\n          pastMilestone = currentMilestone;\n          // Make index value equal to count\n          var index = count;\n          //Clears threshold timer if still in progress\n          window.clearTimeout(timeoutID);\n          // Start threshold timer to push to Tealium if user stays in milestone\n          timeoutID = window.setTimeout(pushMilestone(index), threshold);\n        }\n        // Terminate while loop\n        count = 0;\n      }\n \n    }\n  }\n \n})();\n"
            }
          },
          "draftSnippets": {
            "0d607e1946e37c896b074c9cbe5aee8a2da7f4ee07712d045216ba4a5efc460a": {
              "updatedBy": "nathan.schrader@tealium.com",
              "updateDate": "202504171852",
              "creationDate": "202504171851",
              "code": "/*\n * Scroll tracking script\n * Based on v1.1.2 Scroll Tracking by AdSwerve, updated to work with Tealium\n * Original: https://adswerve.com/blog/a-better-mobile-ready-scroll-tracking-js-snippet-for-gtm/\n * Scope: DOM Ready\n * Conditions: any page needing scroll tracking\n */\n \n(function tealScroll() {\n \n  // Do we have a Tealium utag object available?\n  if (typeof utag !== 'object') { throw new Error(\"utag not available!\"); }\n \n  //** OPTION 1 **\n  // Configures how often script checks for the current milestone\n  var threshold = 2000;\n \n  //** OPTION 2 **\n  // Configures milestones to track\n  // Add in numbers (in order) of wanted %s\n  var milestones = [25, 50, 75, 100];\n \n  //** OPTION 3 **\n  // Track 0% true or false\n  // if true, milestones array above must start with 0\n  // tracking 0% event can be useful for easier calculated metrics\n  var trackZero = false;\n \n  //\n  //** DO NOT MODIFY BELOW THIS LINE! **\n  //\n \n  // Determine whether user wants to track 0% depth.\n  var lowerBound;\n  if (trackZero === true) {\n    lowerBound = -1;\n  }\n  else {\n    lowerBound = 0;\n  }\n \n  // Setup record of which milestones have fired.\n  var milestonesFired = [];\n \n  // The previous lower bound is set to 0 so data is not sent with no activity\n  var pastMilestone = lowerBound;\n \n  // Initialize our timeoutID\n  var timeoutID;\n \n  // Function to make value a string\n  function formatLabel(i) {\n    return milestones[i].toString();\n    //return milestones[i].toString() + \"%\";\n  }\n \n  // setup the math functions\n  var deepestScroll = lowerBound, max = Math.max, _round = Math.round;\n \n  // Get the window height\n  function getwinheight(W, D) {\n    return W.innerHeight || (D.documentElement ? D.documentElement.clientHeight : D.body.clientHeight) || D.body.clientHeight;\n  }\n \n  // Get the scroll height from the top of the window\n  function getscroll(W, D) {\n    return W.pageYOffset || (D.documentElement ? D.documentElement.scrollTop : D.body.scrollTop) || D.body.scrollTop;\n  }\n \n  // Get the document height\n  function getdocheight(D) {\n    var b = D.body, e = D.documentElement;\n    return D.height || max(\n      max(b.scrollHeight, e.scrollHeight),\n      max(b.offsetHeight, e.offsetHeight),\n      max(b.clientHeight, e.clientHeight)\n    );\n  }\n \n  // Calculate the percentage below the fold\n  function currentPercentageBelowFold(window, document) {\n    var window_height = getwinheight(window, document);\n    var document_height = getdocheight(document);\n    var scroll_overhead = getscroll(window, document);\n \n    var pixels_below = (document_height - (window_height + scroll_overhead));\n    var percent_scrolled = 100 * (pixels_below / document_height);\n    return (percent_scrolled);\n  }\n \n  // Calculate the percentage above the fold\n  function currentPercentageViewed(window, document) {\n    return 100 - currentPercentageBelowFold(window, document);\n  }\n \n  function pushCleanupMilestones(index) {\n    // Make sure you don't push the current depth as part of the cleanup.\n    milestonesFired.push(milestones[index]);\n    for (var j = 0; j < index; j++) {\n      if (!milestonesFired.includes(milestones[j])) {\n        // Make sure the cleanup milestones only fire once.\n        milestonesFired.push(milestones[j]);\n        var label = formatLabel(j);\n        // Fire utag.link\n        utag.link({\n          tealium_event: 'user_scroll',\n          scroll_threshold: label,\n          scroll_units: 'percent',\n          scroll_direction: 'vertical',\n          // Set up variables to send to Google Universal Analytics\n          event_type: 'Behavior',\n          event_target: 'Scroll',\n          event_attr1: label\n        });\n      }\n    }\n  }\n \n  // Called if user passes into new milestone and is there beyond the threshold time limit\n  function pushMilestone(index) {\n    // Calls formatLabel function to create label to push to Tealium\n    var label = formatLabel(index);\n    pushCleanupMilestones(index);\n    // Fire utag.link\n    utag.link({\n      tealium_event: 'user_scroll',\n      scroll_threshold: label,\n      scroll_unit: 'percent',\n      scroll_direction: 'vertical',\n      // Set up variables to send to Google Universal Analytics\n      event_type: 'Behavior',\n      event_target: 'Scroll',\n      event_attr1: label\n    });\n  }\n \n  // Whenever user scrolls, we fire this lengthly function to see if user past a milestone and\n  // if yes then push that data to Tealium\n  window.addEventListener(\"scroll\", trackScroll);\n  // mobile users don't scroll, they \"touchmove\", so track that as well.\n  window.addEventListener(\"touchmove\", trackScroll);\n \n  function trackScroll() {\n    // Make scrollDepth equal to percentage scrolled down web page\n    var scrollDepth = currentPercentageViewed(window, document);\n    // Counter for while loop\n    var count = milestones.length;\n    // Loops through each milestone to find if user has passed new milestone\n    while (count) {\n      // Decrease counter by 1\n      count--;\n      // Checks to see if current scrollDepth is over Milestone\n      if (_round(scrollDepth) >= milestones[count] && deepestScroll < milestones[count]) {\n        currentMilestone = deepestScroll = milestones[count];\n        // Checks to see if currentMilestone is different than pastMilestone\n        if (currentMilestone != pastMilestone) {\n          // Makes pastMilestone equal to currentMilestone\n          pastMilestone = currentMilestone;\n          // Make index value equal to count\n          var index = count;\n          //Clears threshold timer if still in progress\n          window.clearTimeout(timeoutID);\n          // Start threshold timer to push to Tealium if user stays in milestone\n          timeoutID = window.setTimeout(pushMilestone(index), threshold);\n        }\n        // Terminate while loop\n        count = 0;\n      }\n \n    }\n  }\n \n})();\n",
              "name": "Draft 2"
            },
            "156e808776455eb7fb3231a67b22d1d38ab0ed941db5b8d157735eea6c9da88b": {
              "name": "Draft 1",
              "updatedBy": "nathan.schrader@tealium.com",
              "code": "/*\n * Scroll tracking script\n * Based on v1.1.2 Scroll Tracking by AdSwerve, updated to work with Tealium\n * Original: https://adswerve.com/blog/a-better-mobile-ready-scroll-tracking-js-snippet-for-gtm/\n * Scope: DOM Ready\n * Conditions: any page needing scroll tracking\n */\n \n(function tealScroll() {\n \n  //Do we have a Tealium utag object available?\n  if (typeof utag !== 'object') { throw new Error(\"utag not available!\"); }\n \n  //** OPTION 1 **\n  // Configures how often script checks for the current milestone\n  var threshold = 2000;\n \n  //** OPTION 2 **\n  // Configures milestones to track\n  // Add in numbers (in order) of wanted %s\n  var milestones = [25, 50, 75, 100];\n \n  //** OPTION 3 **\n  // Track 0% true or false\n  // if true, milestones array above must start with 0\n  // tracking 0% event can be useful for easier calculated metrics\n  var trackZero = false;\n \n  //\n  //** DO NOT MODIFY BELOW THIS LINE! **\n  //\n \n  // Determine whether user wants to track 0% depth.\n  var lowerBound;\n  if (trackZero === true) {\n    lowerBound = -1;\n  }\n  else {\n    lowerBound = 0;\n  }\n \n  // Setup record of which milestones have fired.\n  var milestonesFired = [];\n \n  // The previous lower bound is set to 0 so data is not sent with no activity\n  var pastMilestone = lowerBound;\n \n  // Initialize our timeoutID\n  var timeoutID;\n \n  // Function to make value a string\n  function formatLabel(i) {\n    return milestones[i].toString();\n    //return milestones[i].toString() + \"%\";\n  }\n \n  // setup the math functions\n  var deepestScroll = lowerBound, max = Math.max, _round = Math.round;\n \n  // Get the window height\n  function getwinheight(W, D) {\n    return W.innerHeight || (D.documentElement ? D.documentElement.clientHeight : D.body.clientHeight) || D.body.clientHeight;\n  }\n \n  // Get the scroll height from the top of the window\n  function getscroll(W, D) {\n    return W.pageYOffset || (D.documentElement ? D.documentElement.scrollTop : D.body.scrollTop) || D.body.scrollTop;\n  }\n \n  // Get the document height\n  function getdocheight(D) {\n    var b = D.body, e = D.documentElement;\n    return D.height || max(\n      max(b.scrollHeight, e.scrollHeight),\n      max(b.offsetHeight, e.offsetHeight),\n      max(b.clientHeight, e.clientHeight)\n    );\n  }\n \n  // Calculate the percentage below the fold\n  function currentPercentageBelowFold(window, document) {\n    var window_height = getwinheight(window, document);\n    var document_height = getdocheight(document);\n    var scroll_overhead = getscroll(window, document);\n \n    var pixels_below = (document_height - (window_height + scroll_overhead));\n    var percent_scrolled = 100 * (pixels_below / document_height);\n    return (percent_scrolled);\n  }\n \n  // Calculate the percentage above the fold\n  function currentPercentageViewed(window, document) {\n    return 100 - currentPercentageBelowFold(window, document);\n  }\n \n  function pushCleanupMilestones(index) {\n    // Make sure you don't push the current depth as part of the cleanup.\n    milestonesFired.push(milestones[index]);\n    for (var j = 0; j < index; j++) {\n      if (!milestonesFired.includes(milestones[j])) {\n        // Make sure the cleanup milestones only fire once.\n        milestonesFired.push(milestones[j]);\n        var label = formatLabel(j);\n        // Fire utag.link\n        utag.link({\n          tealium_event: 'user_scroll',\n          scroll_threshold: label,\n          scroll_units: 'percent',\n          scroll_direction: 'vertical'\n        });\n      }\n    }\n  }\n \n  // Called if user passes into new milestone and is there beyond the threshold time limit\n  function pushMilestone(index) {\n    // Calls formatLabel function to create label to push to Tealium\n    var label = formatLabel(index);\n    pushCleanupMilestones(index);\n    // Fire utag.link\n    utag.link({\n      tealium_event: 'user_scroll',\n      scroll_threshold: label,\n      scroll_unit: 'percent',\n      scroll_direction: 'vertical'\n    });\n  }\n \n  // Whenever user scrolls, we fire this lengthly function to see if user past a milestone and\n  // if yes then push that data to Tealium\n  window.addEventListener(\"scroll\", trackScroll);\n  // mobile users don't scroll, they \"touchmove\", so track that as well.\n  window.addEventListener(\"touchmove\", trackScroll);\n \n  function trackScroll() {\n    // Make scrollDepth equal to percentage scrolled down web page\n    var scrollDepth = currentPercentageViewed(window, document);\n    // Counter for while loop\n    var count = milestones.length;\n    // Loops through each milestone to find if user has passed new milestone\n    while (count) {\n      // Decrease counter by 1\n      count--;\n      // Checks to see if current scrollDepth is over Milestone\n      if (_round(scrollDepth) >= milestones[count] && deepestScroll < milestones[count]) {\n        currentMilestone = deepestScroll = milestones[count];\n        // Checks to see if currentMilestone is different than pastMilestone\n        if (currentMilestone != pastMilestone) {\n          // Makes pastMilestone equal to currentMilestone\n          pastMilestone = currentMilestone;\n          // Make index value equal to count\n          var index = count;\n          //Clears threshold timer if still in progress\n          window.clearTimeout(timeoutID);\n          // Start threshold timer to push to Tealium if user stays in milestone\n          timeoutID = window.setTimeout(pushMilestone(index), threshold);\n        }\n        // Terminate while loop\n        count = 0;\n      }\n \n    }\n  }\n \n})();\n",
              "updateDate": "202504171851",
              "creationDate": "202504171842"
            }
          },
          "draftSeq": "2",
          "queueSeq": "1"
        },
        "initialize": ""
      }
    },
    {
      "id": 15,
      "extensionId": 100020,
      "name": "Populate Floodlight category variable",
      "status": "inactive",
      "extensionType": "Lookup Table",
      "scope": "Before Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "dev": true,
        "prod": true,
        "qa": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "configs": [
          {
            "name": "Shopping Cart",
            "comment": "",
            "value": "cart_view"
          },
          {
            "name": "Checkout",
            "comment": "",
            "value": "checkout_funnel_view"
          },
          {
            "name": "cart success",
            "comment": "",
            "value": "order_confirmation"
          },
          {
            "logic": "false"
          }
        ],
        "vartype": "string",
        "var": "js.floodlight_category",
        "settotext": "",
        "constructor": "",
        "filtertype": "equals",
        "initialize": "",
        "varlookup": "js.page_name"
      }
    },
    {
      "id": 16,
      "extensionId": 100033,
      "name": "Hash Customer Email",
      "status": "inactive",
      "extensionType": "Crypto Extension",
      "scope": "Before Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "dev": true,
        "qa": true,
        "prod": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [
        [
          {
            "variable": "udo.hashed_customer_email",
            "operator": null,
            "value": null
          }
        ]
      ],
      "configuration": {
        "constructor": "",
        "initialize": "",
        "hash": "3"
      }
    },
    {
      "id": 17,
      "extensionId": 100003,
      "name": "Populate hashed customer email",
      "status": "inactive",
      "extensionType": "Set Data Values",
      "scope": "Before Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "dev": true,
        "prod": true,
        "qa": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "configs": [
          {
            "set": "js.hashed_customer_email",
            "settotext": "",
            "setoption": "var",
            "settovar": "js.customer_email"
          }
        ],
        "constructor": "",
        "initialize": ""
      }
    },
    {
      "id": 18,
      "extensionId": 100018,
      "name": "Customer Segmentation",
      "status": "inactive",
      "extensionType": "Split Segmentation",
      "scope": "Before Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "prod": true,
        "qa": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "persistencetext": "",
        "configs": [
          {
            "segname": "a",
            "segpercent": "50"
          },
          {
            "segname": "b",
            "segpercent": "50"
          }
        ],
        "var": "cp.segmentation",
        "domain": "",
        "constructor": "",
        "persistence": "visitor",
        "initialize": ""
      }
    },
    {
      "id": 19,
      "extensionId": 100016,
      "name": "Shopping Cart Banner",
      "status": "inactive",
      "extensionType": "Content Modification",
      "scope": "DOM Ready",
      "occurrence": "Run Once",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "qa": true,
        "prod": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [
        [
          {
            "variable": "cp.segmentation",
            "operator": "equals_ignore_case",
            "value": "a"
          },
          {
            "variable": "udo.page_name",
            "operator": "equals_ignore_case",
            "value": "shopping cart"
          }
        ]
      ],
      "configuration": {
        "configs": [
          {
            "domcontent": "<div>THIS IS MY BANNER!</div>",
            "domid": "shopping-cart-table",
            "position": "insertbefore",
            "type": "domid"
          }
        ],
        "constructor": "",
        "initialize": ""
      }
    },
    {
      "id": 23,
      "extensionId": 100036,
      "name": "Example Vendor Command",
      "status": "inactive",
      "extensionType": "Javascript Code",
      "scope": "After Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "prod": true,
        "qa": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "code": "u.callback = function() {\nwindow.exampleTrack = window.exampleTrack || [];\nfunction track(){exampleTrack.push(arguments);}\ntrack('js', new Date());\ntrack('config', '12345');\n}",
        "constructor": "",
        "initialize": ""
      }
    },
    {
      "id": 24,
      "extensionId": 100004,
      "name": "Persist customer_email",
      "status": "inactive",
      "extensionType": "Persist Data Value",
      "scope": "Before Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "qa": true,
        "prod": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [
        [
          {
            "variable": "udo.customer_email",
            "operator": "contains",
            "value": "@"
          }
        ]
      ],
      "configuration": {
        "persistencetext": "",
        "setoption": "var",
        "var": "cp.customer_email_cookie",
        "settotext": "",
        "constructor": "",
        "allowupdate": "multiple",
        "persistence": "session",
        "initialize": "",
        "settovar": "js.customer_email"
      }
    },
    {
      "id": 25,
      "extensionId": 100003,
      "name": "Copy customer_email_cookie",
      "status": "inactive",
      "extensionType": "Set Data Values",
      "scope": "After Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "dev": true,
        "qa": true,
        "prod": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [
        [
          {
            "variable": "cp.customer_email_cookie",
            "operator": "populated",
            "value": ""
          }
        ]
      ],
      "configuration": {
        "configs": [
          {
            "set": "js.customer_email_sha256",
            "settotext": "",
            "setoption": "var",
            "settovar": "cp.customer_email_cookie"
          }
        ],
        "constructor": "",
        "initialize": ""
      }
    },
    {
      "id": 26,
      "extensionId": 100033,
      "name": "Hash customer_email_sha256",
      "status": "inactive",
      "extensionType": "Crypto Extension",
      "scope": "After Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "prod": true,
        "qa": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [
        [
          {
            "variable": "udo.customer_email_sha256",
            "operator": null,
            "value": null
          }
        ]
      ],
      "configuration": {
        "constructor": "",
        "initialize": "",
        "hash": "3"
      }
    },
    {
      "id": 27,
      "extensionId": 100032,
      "name": "Event: cart_add",
      "status": "inactive",
      "extensionType": "jQuery onHandler (1.7 and above)",
      "scope": "DOM Ready",
      "occurrence": "Run Once",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "qa": true,
        "prod": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [
        [
          {
            "variable": "udo.page_type",
            "operator": "equals_ignore_case",
            "value": "product"
          }
        ]
      ],
      "configuration": {
        "handler": "link",
        "configs": [
          {
            "set": "js.tealium_event",
            "setoption": "text",
            "settotext": "cart_add",
            "settovar": ""
          },
          {
            "set": "js.product_name",
            "setoption": "var",
            "settotext": "",
            "settovar": "js.product_name"
          },
          {
            "set": "js.product_id",
            "settotext": "",
            "setoption": "var",
            "settovar": "js.product_id"
          },
          {
            "set": "js.product_list_price",
            "settotext": "",
            "setoption": "var",
            "settovar": "js.product_list_price"
          },
          {
            "set": "js.site_currency",
            "settotext": "",
            "setoption": "var",
            "settovar": "js.site_currency"
          },
          {
            "set": "js.customer_email_sha256",
            "settotext": "",
            "setoption": "var",
            "settovar": "js.customer_email_sha256"
          }
        ],
        "code": "",
        "selector": ".button.btn-cart",
        "event": "click",
        "constructor": "",
        "initialize": "",
        "primaryselector": ""
      }
    },
    {
      "id": 28,
      "extensionId": 100040,
      "name": "My JS Ext - Pre Loader",
      "status": "inactive",
      "extensionType": "Advanced Javascript Code",
      "scope": "Pre Loader",
      "occurrence": "Run Once",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "dev": true,
        "qa": true,
        "prod": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "blockPubTargetsLogic": "true",
        "constructor": "",
        "codeDevData": {
          "promotedSnippets": {
            "ef260e9aa3c673af240d17a2660480361a8e081d1ffeca2a5ed0e3219fc18567": {
              "promotedBy": "nathan.schrader@tealium.com",
              "promotedTimestamp": "202504222034",
              "code": "// Type your JavaScript code here...\nconsole.log('=== My JS Ext - Pre Loader - LOG!')",
              "name": "dev",
              "promotedDraftName": "Draft 1"
            }
          },
          "draftSnippets": {
            "156e808776455eb7fb3231a67b22d1d38ab0ed941db5b8d157735eea6c9da88b": {
              "updatedBy": "nathan.schrader@tealium.com",
              "creationDate": "202504222033",
              "updateDate": "202504222034",
              "code": "// Type your JavaScript code here...\nconsole.log('=== My JS Ext - Pre Loader - LOG!')",
              "name": "Draft 1"
            }
          },
          "draftSeq": "1",
          "queueSeq": "1"
        },
        "initialize": ""
      }
    },
    {
      "id": 29,
      "extensionId": 100040,
      "name": "My JS Ext - Before Load Rules",
      "status": "inactive",
      "extensionType": "Advanced Javascript Code",
      "scope": "Before Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "dev": true,
        "qa": true,
        "prod": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "blockPubTargetsLogic": "true",
        "constructor": "",
        "codeDevData": {
          "draftSeq": "1",
          "draftSnippets": {
            "156e808776455eb7fb3231a67b22d1d38ab0ed941db5b8d157735eea6c9da88b": {
              "name": "Draft 1",
              "code": "console.log('=== My JS Ext - Before Load Rules - LOG!')",
              "updateDate": "202504222042",
              "creationDate": "202504222038",
              "updatedBy": "nathan.schrader@tealium.com"
            }
          },
          "promotedSnippets": {
            "ef260e9aa3c673af240d17a2660480361a8e081d1ffeca2a5ed0e3219fc18567": {
              "promotedBy": "nathan.schrader@tealium.com",
              "promotedTimestamp": "202504222043",
              "code": "console.log('=== My JS Ext - Before Load Rules - LOG!')",
              "name": "dev",
              "promotedDraftName": "Draft 1"
            }
          },
          "queueSeq": "2"
        },
        "initialize": ""
      }
    },
    {
      "id": 30,
      "extensionId": 100040,
      "name": "My JS Ext - After Load Rules",
      "status": "inactive",
      "extensionType": "Advanced Javascript Code",
      "scope": "After Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "prod": true,
        "qa": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "blockPubTargetsLogic": "true",
        "constructor": "",
        "codeDevData": {
          "queueSeq": "1",
          "promotedSnippets": {
            "ef260e9aa3c673af240d17a2660480361a8e081d1ffeca2a5ed0e3219fc18567": {
              "name": "dev",
              "promotedDraftName": "Draft 1",
              "promotedBy": "nathan.schrader@tealium.com",
              "promotedTimestamp": "202504222041",
              "code": "console.log('=== My JS Ext - After Load Rules - LOG!')"
            }
          },
          "draftSnippets": {
            "156e808776455eb7fb3231a67b22d1d38ab0ed941db5b8d157735eea6c9da88b": {
              "updatedBy": "nathan.schrader@tealium.com",
              "code": "console.log('=== My JS Ext - After Load Rules - LOG!')",
              "updateDate": "202504222040",
              "creationDate": "202504222040",
              "name": "Draft 1"
            }
          },
          "draftSeq": "1"
        },
        "initialize": ""
      }
    },
    {
      "id": 31,
      "extensionId": 100040,
      "name": " My JS Ext - DOM Ready Extensions",
      "status": "inactive",
      "extensionType": "Advanced Javascript Code",
      "scope": "DOM Ready",
      "occurrence": "Run Once",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "prod": true,
        "qa": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "blockPubTargetsLogic": "true",
        "constructor": "",
        "codeDevData": {
          "queueSeq": "1",
          "draftSnippets": {
            "156e808776455eb7fb3231a67b22d1d38ab0ed941db5b8d157735eea6c9da88b": {
              "code": "console.log('=== My JS Ext - DOM Ready Extensions')",
              "updateDate": "202504222045",
              "creationDate": "202504222044",
              "updatedBy": "nathan.schrader@tealium.com",
              "name": "Draft 1"
            }
          },
          "promotedSnippets": {
            "ef260e9aa3c673af240d17a2660480361a8e081d1ffeca2a5ed0e3219fc18567": {
              "promotedBy": "nathan.schrader@tealium.com",
              "promotedTimestamp": "202504222045",
              "code": "console.log('=== My JS Ext - DOM Ready Extensions')",
              "name": "dev",
              "promotedDraftName": "Draft 1"
            }
          },
          "draftSeq": "1"
        },
        "initialize": ""
      }
    },
    {
      "id": 32,
      "extensionId": 100040,
      "name": " My JS Ext - Tag Scoped Extensions",
      "status": "inactive",
      "extensionType": "Advanced Javascript Code",
      "scope": "After Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "prod": true,
        "qa": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "blockPubTargetsLogic": "true",
        "constructor": "",
        "codeDevData": {
          "queueSeq": "1",
          "draftSeq": "1",
          "draftSnippets": {
            "156e808776455eb7fb3231a67b22d1d38ab0ed941db5b8d157735eea6c9da88b": {
              "updateDate": "202504222048",
              "creationDate": "202504222047",
              "code": "console.log('=== My JS Ext - Tag Scoped Extensions - LOG!')",
              "updatedBy": "nathan.schrader@tealium.com",
              "name": "Draft 1"
            }
          },
          "promotedSnippets": {
            "ef260e9aa3c673af240d17a2660480361a8e081d1ffeca2a5ed0e3219fc18567": {
              "promotedTimestamp": "202504222048",
              "promotedBy": "nathan.schrader@tealium.com",
              "code": "console.log('=== My JS Ext - Tag Scoped Extensions - LOG!')",
              "name": "dev",
              "promotedDraftName": "Draft 1"
            }
          }
        },
        "initialize": ""
      }
    },
    {
      "id": 33,
      "extensionId": 100040,
      "name": " My JS Ext - After Tag Extensions",
      "status": "inactive",
      "extensionType": "Advanced Javascript Code",
      "scope": "After Tag Extensions",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "prod": true,
        "qa": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "blockPubTargetsLogic": "true",
        "constructor": "",
        "codeDevData": {
          "draftSeq": "1",
          "draftSnippets": {
            "156e808776455eb7fb3231a67b22d1d38ab0ed941db5b8d157735eea6c9da88b": {
              "updateDate": "202504222049",
              "creationDate": "202504222049",
              "code": "console.log('=== My JS Ext - After Tag Extensions')",
              "updatedBy": "nathan.schrader@tealium.com",
              "name": "Draft 1"
            }
          },
          "promotedSnippets": {
            "ef260e9aa3c673af240d17a2660480361a8e081d1ffeca2a5ed0e3219fc18567": {
              "name": "dev",
              "promotedDraftName": "Draft 1",
              "promotedBy": "nathan.schrader@tealium.com",
              "promotedTimestamp": "202504222050",
              "code": "console.log('=== My JS Ext - After Tag Extensions')"
            }
          },
          "queueSeq": "1"
        },
        "initialize": ""
      }
    },
    {
      "id": 37,
      "extensionId": 100036,
      "name": "Set Google Vars",
      "status": "inactive",
      "extensionType": "Javascript Code",
      "scope": "After Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "qa": true,
        "prod": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "code": " var google_conversion_id = 987670354;\n var google_conversion_language = \"en\";\n var google_conversion_format = \"3\";\n var google_conversion_color = \"ffffff\";\n var google_conversion_label = \"2FcgCJ66hnEQ0s761gM\";\n var google_remarketing_only = false;",
        "constructor": "",
        "initialize": ""
      }
    },
    {
      "id": 40,
      "extensionId": 100003,
      "name": "Test",
      "status": "inactive",
      "extensionType": "Set Data Values",
      "scope": "After Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "dev": true,
        "qa": true,
        "prod": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "configs": [
          {
            "set": "js.customer_city",
            "settotext": "utag.link({tealium_event: \"test\"}, null, [2])",
            "setoption": "code",
            "settovar": ""
          }
        ],
        "constructor": "",
        "initialize": ""
      }
    },
    {
      "id": 42,
      "extensionId": 100036,
      "name": "Update enrichment_polling",
      "status": "inactive",
      "extensionType": "Javascript Code",
      "scope": "After Load Rules",
      "occurrence": "Run Always",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "prod": true,
        "qa": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "code": "u.enrichment_polling = 3;",
        "constructor": "",
        "initialize": ""
      }
    },
    {
      "id": 43,
      "extensionId": 100040,
      "name": "Parse identifier from utag.js cookie [Moments API]",
      "status": "inactive",
      "extensionType": "Advanced Javascript Code",
      "scope": "Pre Loader",
      "occurrence": "Run Once",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "dev": true,
        "qa": true,
        "prod": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "blockPubTargetsLogic": "true",
        "constructor": "",
        "codeDevData": {
          "queueSeq": "0",
          "draftSnippets": {
            "156e808776455eb7fb3231a67b22d1d38ab0ed941db5b8d157735eea6c9da88b": {
              "updateDate": "202506101734",
              "creationDate": "202506101729",
              "code": "read_utag_cookies = function() {\n  if(!document.cookie || document.cookie === \"\") {\n    return {};\n  }\n  var cookies = document.cookie.split(\"; \");\n  return cookies.reduce(function(result, cookie) {\n    var kv = cookie.split(\"=\");\n    if(kv[0].startsWith(\"utag_\")) {\n      var cookie_name = kv[0].split(\"_\")[1];\n      var cookie_name_with_tag = \"utag_\" + cookie_name;\n      var name_trimmed = kv[0].replace(cookie_name_with_tag+\"_\", \"\");\n      result[name_trimmed] = String(kv[1]).replace(/%3b/g, ';')\n    }\n    return result;\n  }, {});\n}\nvar utag_cookies = read_utag_cookies();\n//save the Tealium Visitor ID in memory\nvar moments_identifier = utag_cookies[\"v_id\"] || null",
              "updatedBy": "nathan.schrader@tealium.com",
              "name": "Draft 1"
            }
          },
          "draftSeq": "1"
        },
        "initialize": ""
      }
    },
    {
      "id": 44,
      "extensionId": 100040,
      "name": "[Moments API]",
      "status": "inactive",
      "extensionType": "Advanced Javascript Code",
      "scope": "Pre Loader",
      "occurrence": "Run Once",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "qa": true,
        "prod": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "blockPubTargetsLogic": "true",
        "constructor": "",
        "codeDevData": {
          "draftSnippets": {
            "156e808776455eb7fb3231a67b22d1d38ab0ed941db5b8d157735eea6c9da88b": {
              "name": "Draft 1",
              "code": "// Assign the engine ID you want to request \nvar engine_id = \"65d1b37b-e260-45a6-b3b0-de850304415a\"; \n\n\n// suppressNotFound is an optional parameter \n\n// Set to false for HTTP 404 when visitor is not found \n// var suppressNotFound = true;\n\n// Construct the API URL\n// This example does not include optional parameters\n// Add optional parameters, if required\n\nvar apiUrl = \"https://personalization-api.us-west-2.prod.tealiumapis.com/personalization/accounts/success-nathan-schrader/profiles/main/engines/65d1b37b-e260-45a6-b3b0-de850304415a/visitors/\" + moments_identifier;\n\n// Example: \"https://personalization-api.us-west.prod.tealiumapis.com/personalization/accounts/example/profiles/main/engines/abc123/visitors/\" + \"0123456789\"\n\n// Add function for writing the Moments API response to localStorage\nfunction writeToLocalStorage(obj, engineId) {\n    // Prefix for localStorage keys\n    const prefix = 'moments_' + engineId + '_';\n\n    // Function to save an object property to localStorage\n    const saveToLocalStorage = (key, value) => {\n        localStorage.setItem(prefix + key, JSON.stringify(value));\n    };\n\n    // Loop through each top-level property in the object\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            saveToLocalStorage(key, obj[key]);\n        }\n    }\n}\n\n\n// Fetch the API\n\nfetch(apiUrl)\n    .then(response => {\n        if (!response.ok) {\n            throw new Error('Network response was not ok');\n        }\n        return response.json();\n    })\n    .then(data => {\n        // Handle the response data\n        if (data) {\n        // set the data to localStorage, categorised by grouping. For example, attributes, badges, and audiences.\n        writeToLocalStorage(data, engine_id) \n            \n        }\n    })\n    .catch(error => console.error('Moments API error:', error));\n//",
              "updateDate": "202506101744",
              "creationDate": "202506101736",
              "updatedBy": "nathan.schrader@tealium.com"
            }
          },
          "draftSeq": "1",
          "queueSeq": "0"
        },
        "initialize": ""
      }
    },
    {
      "id": 45,
      "extensionId": 100036,
      "name": "Load CMP script - OneTrust",
      "status": "inactive",
      "extensionType": "Javascript Code",
      "scope": "Pre Loader",
      "occurrence": "Run Once",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "qa": true,
        "prod": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "code": "// Define a function to load the Vendor CMP script\nwindow.addCmp = function () {\n  var domainId = '018dd272-a3f7-79cb-bf7a-b78b47dacb46-test';\n\n  var head = document.getElementsByTagName('head')[0];\n  var script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.src = 'https://cdn.cookielaw.org/scripttemplates/otSDKStub.js';\n  script.setAttribute(\"data-domain-script\", domainId);\n  // script.setAttribute(\"data-domain-script\", b['OTDomainGUID']);\n  script.async = true;\n  head.appendChild(script);    \n};\n\n// Immediately call the 'addCmp' function to load the script\nwindow.addCmp();",
        "constructor": "",
        "initialize": ""
      }
    },
    {
      "id": 48,
      "extensionId": 100047,
      "name": "CookieConsent v3 Loader ext",
      "status": "active",
      "extensionType": "CookieConsent v3 Loader",
      "scope": "DOM Ready",
      "occurrence": "Run Once",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "dev": true,
        "prod": false,
        "qa": false
      },
      "environmentVersions": {
        "qa": null,
        "prod": null,
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "code": "/**\n\nConfigure and load the consent management tool\nScope       : Pre Loader / DOM Ready\nOccurrence  : n/a\nCondition   : n/a\nDescription : Loads a specific CookieConsent configuration on your website. You may need more than one, to conditionally load different configurations for different regions.\n\n */\n\n// CookieConsent variables\nvar ccDomain = 'tags.tiqcdn.com';\nvar ccVersion = 'v3.1.0';\n\n// CookieConsent modal configuration\n// Update this configuration object to meet your specific needs. All configuration options: https://cookieconsent.orestbida.com/reference/configuration-reference.html\nvar ccConfig = {\n  mode: 'opt-in',\n  disablePageInteraction: true,\n  lazyHtmlGeneration: false,\n  guiOptions: {\n    consentModal: {\n      layout: 'cloud',\n      position: 'bottom center',\n      flipButtons: false,\n      equalWeightButtons: true\n    },\n    preferencesModal: {\n      layout: 'bar wide',\n      position: 'right',\n      flipButtons: false,\n      equalWeightButtons: true\n    }\n  },\n  categories: {\n    necessary: {\n      enabled: true,\n      readOnly: true\n    },\n    analytics: {\n      enabled: false,\n    //   readOnly: false,\n    },\n    marketing: {\n      enabled: false,\n      readOnly: false,\n    }\n  },\n  language: {\n    default: 'en',\n    translations: {\n      en: {\n        consentModal: {\n          title: 'We value your privacy',\n          description: \"We'd like to use browser storage to understand how you use our website, and to display information and offers relevant to you.\",\n          acceptAllBtn: 'Accept all',\n          acceptNecessaryBtn: 'Accept necessary',\n          showPreferencesBtn: 'Manage preferences',\n          footer: '<a href=\"#\">Privacy Policy</a>'\n        },\n        preferencesModal: {\n          title: 'Manage preferences',\n          acceptAllBtn: 'Accept all',\n          acceptNecessaryBtn: 'Accept necessary',\n          savePreferencesBtn: 'Accept selection',\n          closeIconLabel: 'Close modal',\n          sections: [\n            {\n              title: 'We value your privacy',\n              description: 'We use browser storage to remember your preferences, understand how you use the site, and show you relevant offers.<br><br>Please make a selection, then click \"Accept selection\" to consent to those specific purposes. You can change or withdraw your consent at any time.'\n            },\n            {\n              title: 'Strictly Necessary <span class=\"pm__badge\">Always Enabled</span>',\n              description: 'This tracking is essential for the proper functioning of the website and cannot be disabled.',\n              linkedCategory: 'necessary'\n            },\n            {\n              title: 'Performance and Analytics',\n              description: 'This tracking collects information about the performance of our website and how you use it.',\n              linkedCategory: 'analytics',\n              cookieTable: {\n                caption: 'Analytics cookies',\n                headers: {\n                  name: 'Name',\n                  description: 'Description',\n                  duration: 'Duration'\n                },\n                body: [\n                  {\n                    name: '_ga',\n                    description: 'Used to distinguish users.',\n                    duration: '2 years'\n                  },\n                  {\n                    name: '_ga_1234ABCD',\n                    description: 'Used to persist session state.',\n                    duration: '2 years'\n                  }\n                ]\n              }\n            },\n            {\n              title: 'Marketing and Social',\n              description: 'This tracking collects information about how you use our website to show offers you may be interested in.',\n              linkedCategory: 'marketing'\n            },\n            {\n              title: 'More information',\n              description: 'To learn more about cookies, please visit <a href=\"https://www.cookiesandyou.com/\" target=\"_blank\">Cookies & You</a>'\n            }\n          ]\n        }\n      }\n    }\n  }\n};\n\nvar c = document.createElement('link');\nc.rel = 'stylesheet';\nc.href = 'https://' + ccDomain + '/libs/cookieconsent/' + ccVersion + '/cookieconsent.css';\ndocument.head.appendChild(c);\n\nvar s = document.createElement('script');\ns.src = 'https://' + ccDomain + '/libs/cookieconsent/' + ccVersion + '/cookieconsent.umd.js';\ns.addEventListener('load', function () { CookieConsent.run(ccConfig); });\ndocument.body.appendChild(s);",
        "constructor": "",
        "initialize": ""
      }
    },
    {
      "id": 49,
      "extensionId": 100046,
      "name": "CookieConsent v3 Logging",
      "status": "inactive",
      "extensionType": "CookieConsent v3 Logging",
      "scope": "DOM Ready",
      "occurrence": "Run Once",
      "notes": "",
      "loadRule": null,
      "library": null,
      "selectedTargets": {
        "qa": false,
        "prod": false,
        "dev": true
      },
      "environmentVersions": {
        "qa": null,
        "prod": null,
        "dev": "202601132354"
      },
      "conditions": [],
      "configuration": {
        "code": "// Consent Logging Extension\n// Scope: Pre Loader / DOM Ready\n\nfunction logConsentChanges(event){\n    // Make sure to update the placeholders to the appropriate Tealium server-side account and profile\n    var tealiumAccountForLogging = 'success-nathan-schrader'\n    var tealiumProfileForLogging = 'main'\n    \n    // Retrieve all the fields from the consent management tool (CookieConsentV3)\n    var cookie = CookieConsent.getCookie();\n    var preferences = CookieConsent.getUserPreferences();\n\n    var decision = window.tealiumCmpIntegration && window.tealiumCmpIntegration.getCurrentConsentDecision();\n    var decisionType = decision && decision.type;\n\n    // This payload can be easily adjusted\n    var userConsent = {\n        tealium_event: 'consent_decision',\n        tealium_account: tealiumAccountForLogging,\n        tealium_profile: tealiumProfileForLogging,\n        consent_id: cookie.consentId,\n        cmp_name: window.tealiumCmpIntegration.cmpName,\n        decision_type: preferences.acceptType,\n        accepted_purposes: decision,\n        consent_model: window.tealiumCmpIntegration.cmpCheckIfOptInModel() ? 'opt-in' : 'opt-out',\n        \"tci.consent_type\": decisionType,\n        \"tci.purposes_with_consent_all\": decision,\n        \"tci.purposes_with_consent_unprocessed\": decision,\n        \"tci.purposes_with_consent_processed\": [], // this won't refire\n        url: document.location.href.split('?')[0],\n        decision_timestamp: cookie.lastConsentTimestamp,\n        expiration_time: cookie.expirationTime,\n        revision: cookie.revision\n    };\n    \n    // This won't necessarily pick up the first decision unless Collect runs before this code runs (unlikely)\n    var tealiumVisitorId = utag && utag.loader && utag.loader.RC('utag_main').v_id\n    // Add the tealium_visitor_id, but only if it exists already\n    if (tealiumVisitorId) {\n        userConsent.tealium_visitor_id = tealiumVisitorId\n    }\n    \n    // Send the data to be logged or distributed (change this to your own endpoint if needed)\n    fetch('https://collect.tealiumiq.com/event', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userConsent)\n    });\n}\n\nwindow.addEventListener('consent_updated', (event) => {\n  logConsentChanges(event);\n});",
        "constructor": "",
        "initialize": ""
      }
    }
  ],
  "loadRules": [
    {
      "id": 11,
      "name": "Product Pages",
      "status": "active",
      "library": null,
      "notes": "",
      "startDate": "------------",
      "endDate": "------------",
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      },
      "conditions": [
        [
          {
            "variable": "udo.page_type",
            "operator": "equals_ignore_case",
            "value": "product"
          }
        ]
      ]
    },
    {
      "id": 16,
      "name": "Product Pages - jrv",
      "status": "active",
      "library": null,
      "notes": "",
      "startDate": "------------",
      "endDate": "------------",
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      },
      "conditions": [
        [
          {
            "variable": "udo.page_type",
            "operator": "equals_ignore_case",
            "value": "product"
          },
          {
            "variable": "udo.product_category",
            "operator": "defined",
            "value": ""
          }
        ]
      ]
    },
    {
      "id": 17,
      "name": "ecomm-test",
      "status": "active",
      "library": null,
      "notes": "",
      "startDate": "------------",
      "endDate": "------------",
      "environmentVersions": {
        "qa": "202601132354",
        "prod": "202601132354",
        "dev": "202601132354"
      },
      "usedIn": {
        "tags": [95],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      },
      "conditions": [
        [
          {
            "variable": "udo.page_name",
            "operator": "equals_ignore_case",
            "value": "homepage1"
          }
        ]
      ]
    }
  ],
  "tags": [
    {
      "id": 46,
      "tagId": "20064",
      "name": "Tealium Collect",
      "library": null,
      "status": "active",
      "notes": "",
      "dataMappings": [],
      "selectedTargets": {
        "dev": true,
        "prod": true,
        "qa": true
      },
      "environmentVersions": {
        "qa": "202512050300",
        "prod": "202512050300",
        "dev": "202512050300"
      },
      "advancedConfiguration": {
        "bundleFlag": false,
        "syncLoadType": false,
        "optOut": true,
        "sendFlag": true,
        "scriptSource": "",
        "tagTiming": "DOM Ready"
      },
      "configuration": {
        "server": "ss-collect.nathanschrader.com/success-nathan-schrader/main/2/i.gif",
        "send_dom_values": "true",
        "send_udo_variables": "true",
        "profile": "",
        "send_localstorage_variables": "false",
        "sampling": "100",
        "send_meta_values": "true",
        "tealium_cookie_domain": "",
        "visitor_id": "",
        "send_query_param_values": "true",
        "send_sessionstorage_variables": "false",
        "data_source": "w3c88a",
        "send_cookie_values": "true",
        "suppress_v_id_generation": "false",
        "enrichment": "frequent",
        "tealium_cookie_expiry": "",
        "use_sendbeacon": "true",
        "use_event_endpoint": "false",
        "region": "default",
        "visitor_service_override": "visitor-service.nathanschrader.com"
      },
      "rules": {
        "apply": null,
        "exclude": null
      },
      "template": {
        "name": "Tealium Collect, Tag ID:20064",
        "templateCode": "//~~tv:20064.20250414\n//~~tc: Fixed problems with AS tracking with suffixing extension present\n//~~tc: Add a check if the sendBeacon call returns a false\n//~~tc: Add data filters\n\n//ESLint configurations\n/*global utag tealium_enrichment __tcfapi tealiumiabPostMessageHandler*/\n/*eslint no-unused-vars: [\"error\",{\"varsIgnorePattern\": \"^c$\"}]*/\n\n/*eslint-disable*/\n/* Modified copy of json2.js (no need for parse function)*/\n/* https://github.com/douglascrockford/JSON-js */\nif(typeof JSON!=='object'){JSON={};}\n(function(){'use strict';var rx_one=/^[\\],:{}\\s]*$/,rx_two=/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,rx_four=/(?:^|:|,)(?:\\s*\\[)+/g,rx_escapable=/[\\\\\\\"\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,rx_dangerous=/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;function f(n){return n<10?'0'+n:n;}\nfunction this_value(){return this.valueOf();}\nif(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+\nf(this.getUTCMonth()+1)+'-'+ f(this.getUTCDate())+'T'+ f(this.getUTCHours())+':'+ f(this.getUTCMinutes())+':'+\nf(this.getUTCSeconds())+'Z':null;};Boolean.prototype.toJSON=this_value;Number.prototype.toJSON=this_value;String.prototype.toJSON=this_value;}\nvar gap,indent,meta,rep;function quote(string){rx_escapable.lastIndex=0;return rx_escapable.test(string)?'\"'+string.replace(rx_escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'\"':'\"'+string+'\"';}\nfunction str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}\nif(typeof rep==='function'){value=rep.call(holder,key,value);}\nswitch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}\ngap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}\nv=partial.length===0?'[]':gap?'[\\n'+gap+partial.join(',\\n'+gap)+'\\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}\nif(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}\nv=partial.length===0?'{}':gap?'{\\n'+gap+partial.join(',\\n'+gap)+'\\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}\nif(typeof JSON.stringify!=='function'){meta={'\\b':'\\\\b','\\t':'\\\\t','\\n':'\\\\n','\\f':'\\\\f','\\r':'\\\\r','\"':'\\\\\"','\\\\':'\\\\\\\\'};JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}\n}else if(typeof space==='string'){indent=space;}\nrep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}\nreturn str('',{'':value});};}}());\n/*eslint-enable*/\n\n//tealium universal tag - utag.sender.20064 ut4.0.##UTVERSION##, Copyright ##UTYEAR## Tealium.com Inc. All Rights Reserved.\ntry{\n(function (id, loader, u) {\n  try {\n    u = utag.o[loader].sender[id] = {\"id\" : id};\n  } catch (e) {\n    u = utag.sender[id];\n  }\n  utag.globals = window.utag.globals || {};\n  u.toBoolean = function (val) {\n    val = String(val) || \"\";\n    return val === true || val.toLowerCase() === \"true\" || val.toLowerCase() === \"on\";\n  };\n  u.ev = {\"all\":1};\n\n\n  u.do_enrichment = function(){};\n\n\n\n  u.deepCopy = function(input) {\n    var key, copy;\n    if (typeof input === \"object\" && input !== null) {\n      if (utag.ut.typeOf(input) === \"array\") {\n        copy = [];\n      } else {\n        copy = {};\n      }\n      for (key in input) {\n        if (typeof input[key] === \"object\") {\n          copy[key] = u.deepCopy(input[key]);\n        } else {\n          copy[key] = input[key];\n        }\n      }\n    } else {\n      copy = input;\n    }\n    return copy;\n  }\n\n\n\n  u.get_account_profile = function(s) {\n    var p;\n    if (u.visitor_service_override || u.tag_config_server.indexOf(\"tealiumiq.com\") === -1) {\n      p = [u.tag_config_server.split(\"//\")[1], u.account, u.profile]\n    } else if (u.tag_config_server === u.event_url) {\n      p = [s.substring(s.indexOf(u.server_domain)).split(\"/\")[1], u.account, u.profile]\n    } else {\n      p = s.substring(s.indexOf(u.server_domain)).split(\"/\");\n    }\n    return p;\n  };\n\n  function infixParameters (url, params) {\n    var updated_url,\n      url_parts = url.split(\"?\");\n\n    if (params) {\n      // if the URL address doesn't have a `?`\n      if (url_parts[1] === undefined) {\n        updated_url = url + \"?\" + params;\n      // if the URL address has a `?` but no query parameters\n      } else if (url_parts[1] === \"\") {\n        updated_url = url + params;\n      // if the URL address has existing query parameters, infix the passed parameters\n      } else {\n        updated_url = url_parts[0] + \"?\" + params + \"&\" + url_parts[1];\n      }\n    } else {\n      updated_url = url;\n    }\n    return updated_url;\n  }\n\n  // Should only call this function when u.tag_config_sampling < 100\n  u.is_in_sample_group = function(b) {\n    var group = \"100\";\n\n    // Automatically in sampling group if the sampling value is 100% or not defined at all\n    if (u.tag_config_sampling === \"\" || u.tag_config_sampling === \"100\") {\n      return true;\n    }\n\n    // Check or set cookie (cookie should survive across visits)\n    if (b[\"cp.utag_main_dc_group\"]) {\n      group = b[\"cp.utag_main_dc_group\"];\n    } else {\n      // group = random number 1..100\n      group = Math.floor(Math.random() * 100) + 1;\n      // set cookie\n      utag.loader.SC(\"utag_main\", {\"dc_group\": group});\n    }\n\n    // Return true if this visitor in sampling group\n    if (parseInt(group) <= parseInt(u.tag_config_sampling)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  u.get_performance_timing = function(b) {\n    var t, timing;\n    var data = {};\n\n    function subtract (val1, val2) {\n      var difference = 0;\n      if ( val1 > val2 ) {\n        difference = val1 - val2;\n      }\n      return difference;\n    }\n\n    try {\n      // Read existing local storage data and add to data layer\n      timing = localStorage.getItem(\"tealium_timing\");\n      t = window.performance.timing;\n      // Only get this info on the first event for this page\n      if (timing !== null && timing !== \"{}\" && typeof b !== \"undefined\" && u.performance_timing_count === 0) {\n        utag.ut.merge(b, utag.ut.flatten({timing : JSON.parse(timing)}), 1);\n      }\n    } catch (e) {\n      utag.DB(e);\n      return;\n    }\n\n    // Get current URL timing data into local storage.  Or setTimeout and do recursive call if data not there yet\n    u.performance_timing_count++;\n    for (var k in t) {\n      // Some data might not be ready yet, wait and request again\n      // Only try 20 times max\n      if ((k.indexOf(\"dom\") === 0 || k.indexOf(\"load\") === 0) && t[k] === 0 && u.performance_timing_count < 20) {\n        setTimeout(u.get_performance_timing, 1000);\n      }\n    }\n\n    // Write current page performance data to local storage for retrieval on next page\n    data[\"domain\"] = location.hostname + \"\";\n    data[\"pathname\"] = location.pathname + \"\";\n    data[\"query_string\"] = (\"\" + location.search).substring(1);\n    data[\"timestamp\"] = (new Date()).getTime();\n    data[\"dns\"] = subtract(t.domainLookupEnd, t.domainLookupStart);\n    data[\"connect\"] = subtract(t.connectEnd, t.connectStart);\n    data[\"response\"] = subtract(t.responseEnd, t.responseStart);\n    data[\"dom_loading_to_interactive\"] = subtract(t.domInteractive, t.domLoading);\n    data[\"dom_interactive_to_complete\"] = subtract(t.domComplete, t.domInteractive);\n    data[\"load\"] = subtract(t.loadEventEnd, t.loadEventStart);\n    data[\"time_to_first_byte\"] = subtract(t.responseStart, t.connectEnd);\n    data[\"front_end\"] = subtract(t.loadEventStart, t.responseEnd);\n    data[\"fetch_to_response\"] = subtract(t.responseStart, t.fetchStart);\n    data[\"fetch_to_complete\"] = subtract(t.domComplete, t.fetchStart);\n    data[\"fetch_to_interactive\"] = subtract(t.domInteractive, t.fetchStart);\n\n    try {\n      localStorage.setItem(\"tealium_timing\", JSON.stringify(data));\n    } catch (e) {\n      utag.DB(e);\n    }\n  };\n\n  // makes certain any URL passed in starts with a protocol, SSL enforcement is controlled by boolean true/false\n  u.validateProtocol = function (address, force_ssl) {\n    // does the address begin with `http://` or `https://`?\n    if (/^https?:\\/\\//i.test(address)) {\n      if (force_ssl) {\n        if (/^http:\\/\\//i.test(address)) {\n          address = address.toLowerCase().replace(\"http\",\"https\");\n        }\n      }\n    } else {\n      // does the address begin with `//`?\n      if (/^\\/\\//.test(address)) {\n        if (force_ssl) {\n          address = \"https:\" + address;\n        } else {\n          address = location.protocol + address;\n        }\n      // the address does not begin with `//`\n      } else {\n        if (force_ssl) {\n          address = \"https://\" + address;\n        } else {\n          address = location.protocol + \"//\" + address;\n        }\n      }\n    }\n    return address;\n  }\n\n  u.server_domain = \"tealiumiq.com\";\n  u.server_prefix = \"\";\n  u.tag_config_server = \"##UTVARconfig_server##\";\n  u.tag_config_sampling = \"##UTVARconfig_sampling##\" || \"100\";\n  // In debug mode, always in sample group\n  if (utag.cfg.utagdb) {\n    u.tag_config_sampling = \"100\";\n  }\n  u.tag_config_region = \"##UTVARconfig_region##\" || \"default\";\n  u.region = \"\";\n  u.performance_timing_count = 0;\n  u.event_url = '//collect.tealiumiq.com/event';\n  u.account = utag.cfg.utid.split(\"/\")[0];\n  u.data_source = \"##UTVARconfig_data_source##\";\n  u.profile = \"##UTVARconfig_profile##\" || utag.cfg.utid.split(\"/\")[1];\n  u.visitor_service_override = '##UTVARconfig_visitor_service_override##'; // setting this property will override the domain used in the data layer enrichment call; the rest of the URL will build normally (pathname with the account and profile, query parameters, etc.)\n  u.request_increment = 1; // adds an incrementable value to the end of the ids of the script elements generated by each visitor_service_request invocation; WCAG 2.0 compliance\n  u.iab_v20_compliance = true;\n  u.tc_string = \"\";\n  u.use_sendBeacon = '##UTVARconfig_use_sendbeacon##';\n  u.use_event_endpoint = '##UTVARconfig_use_event_endpoint##';\n  u.tealium_cookie_domain = '##UTVARconfig_tealium_cookie_domain##';\n  u.tealium_cookie_expiry ='##UTVARconfig_tealium_cookie_expiry##';\n  u.data_enrichment=\"##UTVARconfig_enrichment##\";\n  u.send_udo_variables=\"##UTVARconfig_send_udo_variables##\" || true;\n  u.send_dom_values=\"##UTVARconfig_send_dom_values##\" || true;\n  u.send_cookie_values=\"##UTVARconfig_send_cookie_values##\" || true;\n  u.send_meta_values=\"##UTVARconfig_send_meta_values##\" || true;\n  u.send_query_param_values=\"##UTVARconfig_send_query_param_values##\" || true;\n  u.send_localstorage_variables=\"##UTVARconfig_send_localstorage_variables##\" || false;\n  u.send_sessionstorage_variables=\"##UTVARconfig_send_sessionstorage_variables##\" || false;\n  u.profile_specific_vid = 0;\n  u.enrichment_polling = 1;\n  u.enrichment_polling_delay = 500;\n  u.enrichment_enabled = {};\n  u.visitor_id = \"##UTVARconfig_visitor_id##\";\n  u.suppress_v_id_generation = \"##UTVARconfig_suppress_v_id_generation##\" || false;\n\n\n  ##UTGEN##\n\n  u.send = function(a,b) {\n    var c, d, i;\n    if(u.ev[a] || typeof u.ev[\"all\"] !== \"undefined\"){\n      //Don't fire for tag bridge event \"remote_api\"\n      if (a === \"remote_api\") {\n        utag.DB(\"Remote API event suppressed.\");\n        return;\n      }\n\n      if (a === 'update_consent_cookie') {\n        utag.DB('Update Consent Cookie event supressed.');\n        return;\n      }\n\n      if (!u.toBoolean(u.suppress_v_id_generation)) {\n        u.visitor_id = u.visitor_id || b.tealium_visitor_id || b[\"cp.utag_main_v_id\"];\n        if (!u.visitor_id) {\n          var consentCookies = utag.gdpr && typeof utag.gdpr.getCookieValues === 'function' && utag.gdpr.getCookieValues();\n          var consentCookieId = consentCookies && consentCookies.id;\n          u.visitor_id =  consentCookieId || utag.ut.vi((new Date()).getTime());\n          utag.loader.SC(\"utag_main\", { v_id: u.visitor_id });\n        }\n        b[\"cp.utag_main_v_id\"] = u.visitor_id;\n        b[\"ut.visitor_id\"] = u.visitor_id;\n        b[\"tealium_visitor_id\"] = u.visitor_id;\n      }\n\n      // Start tag-scoped extensions\n      ##UTEXTEND##\n      utag.DB(\"send:##UTID##:EXTENSIONS\");\n      utag.DB(b);\n      // End tag-scoped extensions\n\n      c = [];\n\n\n      // Start Mapping\n      Object.keys(utag.loader.GV(u.map)).forEach(function(mapping_key) {\n        if (b[mapping_key] !== undefined && b[mapping_key] !== '') {\n          var destinations = u.map[mapping_key].split(',');\n          destinations.forEach(function(parameter) {\n            u[parameter] = b[mapping_key];\n          });\n        }\n      });\n\n      utag.DB(\"send:##UTID##:MAPPINGS\");\n      utag.DB(u);\n      // End Mapping\n\n      u.use_sendBeacon = u.toBoolean(u.use_sendBeacon);\n      u.use_event_endpoint = u.toBoolean(u.use_event_endpoint);\n      // data filters\n      u.send_udo_variables = u.toBoolean(u.send_udo_variables);\n      u.send_cookie_values = u.toBoolean(u.send_cookie_values);\n      u.send_dom_values = u.toBoolean(u.send_dom_values);\n      u.send_meta_values = u.toBoolean(u.send_meta_values);\n      u.send_query_param_values = u.toBoolean(u.send_query_param_values);\n      u.send_localstorage_variables = u.toBoolean(u.send_localstorage_variables);\n      u.send_sessionstorage_variables = u.toBoolean(u.send_sessionstorage_variables);\n      u.suppress_v_id_generation = u.toBoolean(u.suppress_v_id_generation);\n\n      // Handle VPC custom-collect.tealiumiq.com data collection endpoint\n      if (u.tag_config_server.indexOf(\"-collect.\" + u.server_domain) > 1) {\n        u.server_prefix = u.tag_config_server.split(\"collect.\" + u.server_domain)[0];\n        if (u.tag_config_server.indexOf(\"/i.gif\") < 0 ) {\n          u.tag_config_server = \"https://\" + [u.server_prefix + \"collect.\" + u.server_domain, u.account, u.profile, \"2\", \"i.gif\"].join(\"/\");\n        }\n      }\n\n      // Auto-build the endpoint for Tealium Collect\n      if (u.tag_config_server === \"\") {\n        if (u.use_event_endpoint) {\n          u.tag_config_server = u.event_url;\n        } else if (u.tag_config_region === \"default\") {\n          u.tag_config_server = \"https://\" + [u.server_prefix + \"collect.\" + u.server_domain, u.account, u.profile, \"2\", \"i.gif\"].join(\"/\");\n        } else {\n          u.tag_config_server = \"https://\" + [u.server_prefix + \"collect-\" + u.tag_config_region + \".\" + u.server_domain, u.account, u.profile, \"2\", \"i.gif\"].join(\"/\");\n        }\n      }\n\n      // build endpoint if it contains \"-collect-\"\n      if (u.tag_config_server.indexOf(\"-collect-\") > -1) {\n        u.server_prefix = u.tag_config_server.split(\"collect-\")[0];\n      }\n\n      // For those who fill out collect.tealiumiq.com and then choose a specific region\n      if (u.tag_config_region !== \"default\" && u.tag_config_server.indexOf(u.server_prefix + \"collect.\" + u.server_domain) > 0) {\n        u.tag_config_server = u.tag_config_server.replace(u.server_prefix + \"collect.\" + u.server_domain, u.server_prefix + \"collect-\" + u.tag_config_region + \".\" + u.server_domain);\n        u.region = u.tag_config_region;\n      }\n\n      // remove query string delimiter from server address\n      var q = u.tag_config_server.indexOf(\"?\");\n      if (q>0 && (q+1)==u.tag_config_server.length) {\n        // utag.DB(\"DataCloud config error. Trailing ? in URL\")\n        u.tag_config_server = u.tag_config_server.replace(\"?\",\"\");\n      }\n\n      u.server_list = u.tag_config_server.split(\"|\");\n\n      if(u.tealium_cookie_domain){\n          b.tealium_cookie_domain = u.tealium_cookie_domain;\n      }\n      if(u.tealium_cookie_expiry){\n          b.tealium_cookie_expiry = parseInt(u.tealium_cookie_expiry);\n      }\n      //this is a fallback check for IAB compliance; if IAB does not apply, then this tag will execute normally\n      if (u.iab_v20_compliance === true || u.iab_v20_compliance === \"true\") {\n        // if the tcfapi is available, collect the TC string\n        if (typeof __tcfapi === \"function\") {\n          __tcfapi(\"getTCData\", 2, function(tcData, success) {\n            if (success) {\n              u.tc_string = \"gdpr=\";\n              if (tcData.gdprApplies === true) {\n                u.tc_string += \"1\";\n              } else if (tcData.gdprApplies === false) {\n                u.tc_string += \"0\";\n              } else {\n                u.tc_string += String(tcData.gdprApplies);\n              }\n              u.tc_string += \"&gdpr_consent=\" + tcData.tcString;\n              execute_send();\n            }\n          });\n        // otherwise check to see if Tealium is executing in an iframe, and if so, check to see if the tcfapi is located in an ancestor frame\n        } else {\n          // start at current frame's window\n          var frame = window;\n          // if we locate the CMP iframe we will reference it with this\n          var cmpFrame;\n          // map of calls\n          var cmpCallbacks = {};\n          // traverse through any parent frames to look for the tcfapi indicator iframe\n          while(frame) {\n            try {\n              if (frame.frames[\"__tcfapiLocator\"]) {\n                cmpFrame = frame;\n                break;\n              }\n            } catch(error) {\n              utag.DB(error);\n            }\n            if (frame === window.top) {\n              break;\n            }\n            frame = frame.parent;\n          }\n\n          // attempted to traverse through the iframe's ancestors, but did not find the tcfapi indicator frame, continuing execution as normal\n          if (!cmpFrame) {\n            execute_send();\n          // found tcfapi indicator iframe, will now attempt communication between parent frame and current iframe to fetch the TC string\n          } else {\n            /**\n            * Set up a __tcfapi proxy method to do the postMessage and map the callback.\n            * From the caller's perspective, this function behaves identically to the\n            * CMP API's __tcfapi call\n            */\n            window.__tcfapi = function(cmd, version, callback, arg) {\n              var callId = String(Math.random());\n              var msg = {\n                __tcfapiCall: {\n                  command: cmd,\n                  parameter: arg,\n                  version: version,\n                  callId: callId\n                }\n              };\n              // map the callback for lookup on response\n              cmpCallbacks[callId] = callback;\n              cmpFrame.postMessage(msg, \"*\");\n            };\n\n            window.tealiumiabPostMessageHandler = function(event) {\n              // when we get the return message, call the mapped callback\n              var json = {};\n\n              try {\n                json = typeof event.data === \"string\" ? JSON.parse(event.data) : event.data;\n              } catch (error) {\n                utag.DB(error);\n              }\n              var payload = json.__tcfapiReturn;\n              if (payload) {\n                // messages we care about will have a payload\n                if (typeof cmpCallbacks[payload.callId] === \"function\") {\n                  // call the mapped callback and then remove the reference\n                  cmpCallbacks[payload.callId](payload.returnValue, payload.success);\n                  cmpCallbacks[payload.callId] = null;\n                }\n              }\n            };\n\n            window.addEventListener(\"message\", tealiumiabPostMessageHandler, false);\n\n            __tcfapi(\"getTCData\", 2, function(tcData, success) {\n              if (success) {\n                u.tc_string = \"gdpr=\";\n                if (tcData.gdprApplies === true) {\n                  u.tc_string += \"1\";\n                } else if (tcData.gdprApplies === false) {\n                  u.tc_string += \"0\";\n                } else {\n                  u.tc_string += String(tcData.gdprApplies);\n                }\n                u.tc_string += \"&gdpr_consent=\" + tcData.tcString;\n                execute_send();\n              }\n            });\n          }\n        }\n      } else {\n        execute_send();\n      }\n\n      // eslint-disable-next-line no-inner-declarations\n      function execute_send() {\n        // Set data source\n        if (u.data_source) {\n          b.tealium_datasource = u.data_source;\n        }\n\n        u.make_enrichment_request = false;\n\n\n        // If not in our sampling group, then exit (do not fire tag)\n        if (!u.is_in_sample_group(b)) {\n          return false;\n        }\n        u.get_performance_timing(b);\n\n        for (i = 0; i < u.server_list.length; i++) {\n\n          // if the server endpoints are not specifically configured for HTTP, then default to HTTPS\n          if (u.server_list[i].toLowerCase().indexOf(\"http\") === -1) {\n            u.server_list[i] = u.validateProtocol(u.server_list[i], true);\n          }\n\n          if (u.enrichment_enabled[i] !== false) {\n            u.enrichment_enabled[u.server_list[i]] = true;\n          }\n        }\n\n        // For multiple server locations, need unique vid values for each\n        if (u.server_list.length > 1) {\n          u.profile_specific_vid = 1;\n        }\n        u.data = utag.datacloud || {};\n\n        u.data[\"loader.cfg\"] = {};\n        for (d in utag.loader.GV(utag.loader.cfg)){\n          if (utag.loader.cfg[d].load && utag.loader.cfg[d].send){\n            utag.loader.cfg[d].executed = 1;\n          } else {\n            utag.loader.cfg[d].executed = 0;\n          }\n          u.data[\"loader.cfg\"][d]=utag.loader.GV(utag.loader.cfg[d]);\n        }\n\n        //u.data.cfg=utag.cfg;\n        u.data.data = b;\n        /* Re-encode items in \"qp.\" params */\n        for (d in u.data.data) {\n          if ((d+'').indexOf(\"qp.\") === 0) {\n            u.data.data[d] = encodeURIComponent(u.data.data[d]);\n          } else if ((d+'').indexOf(\"va.\") === 0) {\n            /* Remove visitor attributes */\n            delete u.data.data[d];\n          }\n        }\n        /* Visit Number and Event Count -- event count starts over with each visit */\n        if (!b[\"cp.utag_main_dc_event\"]) {\n          b[\"cp.utag_main_dc_visit\"] = (1 + (b[\"cp.utag_main_dc_visit\"] ? parseInt(b[\"cp.utag_main_dc_visit\"]) : 0)) + \"\";\n        }\n        b[\"cp.utag_main_dc_event\"] = (1 + (b[\"cp.utag_main_dc_event\"] ? parseInt(b[\"cp.utag_main_dc_event\"]) : 0)) + \"\";\n        utag.loader.SC(\"utag_main\", {\"dc_visit\" : b[\"cp.utag_main_dc_visit\"], \"dc_event\" : b[\"cp.utag_main_dc_event\"] + \";exp-session\"});\n\n        /* Update global data layer for Visitor Attribute check */\n        utag.data[\"cp.utag_main_dc_visit\"] = b[\"cp.utag_main_dc_visit\"];\n        utag.data[\"cp.utag_main_dc_event\"] = b[\"cp.utag_main_dc_event\"];\n\n        var dt = new Date();\n        /* Send browser info */\n        u.data.browser = {};\n        try {\n          u.data.browser[\"height\"] = window.innerHeight || document.body.clientHeight;\n          u.data.browser[\"width\"] = window.innerWidth || document.body.clientWidth;\n          u.data.browser[\"screen_height\"] = screen.height;\n          u.data.browser[\"screen_width\"] = screen.width;\n          u.data.browser[\"timezone_offset\"] = dt.getTimezoneOffset();\n        } catch (e) {\n          utag.DB(e);\n        }\n\n        u.data[\"event\"] = a + '';\n        u.data[\"post_time\"] = dt.getTime();\n\n        /* Audience Stream Data Layer Enrichment */\n        if (u.data_enrichment === \"frequent\" || u.data_enrichment === \"infrequent\") {\n\n          u.visit_num = b[\"cp.utag_main_dc_visit\"];\n\n          if (parseInt(u.visit_num) > 1 && b[\"cp.utag_main_dc_event\"] === \"1\") {\n            u.enrichment_polling = 2;\n          }\n\n          try {\n            u.va_update = parseInt(localStorage.getItem(\"tealium_va_update\") || 0);\n          } catch (e) {\n            utag.DB(e);\n          }\n\n          u.visitor_id = u.visitor_id || b.tealium_visitor_id || b[\"cp.utag_main_v_id\"];\n          if (u.data_enrichment === \"frequent\" ||\n            (u.data_enrichment === \"infrequent\" && parseInt(u.visit_num) > 1 && parseInt(b[\"cp.utag_main_dc_event\"]) <= 5 && u.visit_num !== u.va_update)) {\n            u.make_enrichment_request = true;\n          // } else if (b._corder) {\n          //   u.make_enrichment_request = true;\n          //   u.enrichment_polling = 3;\n          //   u.enrichment_polling_delay = 4000;\n          }\n\n\n          u.visitor_service_request = function (t, server) {\n            var s, p = u.get_account_profile(server);\n\n            if (u.visitor_service_override) {\n              s = u.validateProtocol(u.visitor_service_override, true);\n            } else {\n              s = u.validateProtocol(u.server_prefix, true) + \"visitor-service\" + (u.region ? \"-\" + u.region : \"\").replace( /[^-A-Za-z0-9+_.]/g, \"\" ) + \".\" + u.server_domain;\n            }\n\n            (function(p){\n              // declare multiple functions with dynamic local storage key -- multiple enrichments in same domain\n              var prefix = \"tealium_va\";\n              var key = \"_\" + p[1] + \"_\" + p[2];\n\n              utag.ut[\"writeva\"+p[2]] = function(o) {\n                utag.DB(\"Visitor Attributes: \" + prefix + key);\n                utag.DB(o);\n                var str = JSON.stringify(o);\n                if (str !== \"{}\" && str !== \"\"){\n                  try {\n                    localStorage.setItem(\"tealium_va_update\", utag.data[\"cp.utag_main_dc_visit\"]);\n                    // for utag.js v4.38 or earlier\n                    localStorage.setItem( prefix, str);\n                    // dynamic location in localstorage (utag.js 4.39 or later)\n                    localStorage.setItem( prefix + key, str);\n                  } catch (e) {\n                    utag.DB(e);\n                  }\n\n                  if (typeof tealium_enrichment === \"function\") {\n                    tealium_enrichment(o, prefix + key);\n                  }\n                }\n              };\n            }(p.slice(0)));\n\n            var vid = b.tealium_override_tapid || b.tealium_visitor_id || b['cp.utag_main_v_id'] || u.visitor_id;\n            if( u.profile_specific_vid === 1 ){\n              vid += p[2];\n            }\n            var srcUrl = s + '/' + p[1] + '/' + p[2] + '/' + vid.replace(/[\\?\\&]callback=.*/g, '') + '?callback=utag.ut%5B%22writeva' + p[2] + '%22%5D&rnd=' + t;\n            if (b.tealium_cookie_domain){\n              srcUrl = srcUrl + '&tealium_cookie_domain=' + b.tealium_cookie_domain\n              if(b.tealium_cookie_expiry){\n                srcUrl = srcUrl   + '&tealium_cookie_expiry=' + b.tealium_cookie_expiry\n              }\n            }\n            utag.ut.loader({\n              id: 'tealium_visitor_service_##UTID##'+p[2]+'_'+u.request_increment++,\n              src: srcUrl\n            });\n          };\n\n          u.do_enrichment = function(server, enrichment_polling, enrichment_polling_delay) {\n            // utag.js 4.27 or later is required\n            if (typeof utag.ut.loader!=\"undefined\") {\n              // additional attempts for visitor enrichment\n              for (i = 0; i < enrichment_polling; i++) {\n                setTimeout(function(){u.visitor_service_request((new Date).getTime(), server);}, i * enrichment_polling_delay + 1);\n              }\n            }\n          };\n        }\n        var json_string,\n          regExpReplace = new RegExp(u.visitor_id, \"g\");\n\n        // some tags need to report data upstream so it's captured in UDH; the following block looks in the utag.globals object for a nested object with the same key as the current event's tealium_random value and captures its key/value pairs\n        if (b.tealium_random && typeof utag.globals[b.tealium_random] === \"object\") {\n          for (var downstream_param in utag.globals[b.tealium_random]) {\n            u.data.data[downstream_param] = u.deepCopy(utag.globals[b.tealium_random][downstream_param]);\n          }\n        }\n\n        function getSendData(useEventData, server) {\n          var dataStringify = u.data;\n          var filterObject = u.data.data\n          if (useEventData) {\n            dataStringify = u.data.data;\n            filterObject = u.data.data;\n            u.data.data.tealium_profile = u.profile;\n          }\n\n          Object.keys(filterObject).forEach(dataKey => {\n            if (['cp.trace_id', 'tealium_account', 'tealium_profile'].indexOf(dataKey) !== -1) {\n              return;\n            }\n            if (dataKey.indexOf('cp.') === 0) {\n                !u.send_cookie_values && delete filterObject[dataKey];\n                return;\n            }\n            if (dataKey.indexOf('meta.') === 0) {\n              !u.send_meta_values && delete filterObject[dataKey];\n              return;\n            }\n            if (dataKey.indexOf('qp.') === 0) {\n              !u.send_query_param_values && delete filterObject[dataKey];\n              return;\n            }\n            if (dataKey.indexOf('ls.') === 0) {\n              !u.send_localstorage_variables && delete filterObject[dataKey];\n              return;\n            }\n            if (dataKey.indexOf('ss.') === 0) {\n              !u.send_sessionstorage_variables && delete filterObject[dataKey];\n              return;\n            }\n            if (dataKey.indexOf('dom.') === 0) {\n              !u.send_dom_values && delete filterObject[dataKey];\n              return;\n            }\n            if (\n              dataKey.indexOf('dom.') !== 0 &&\n              dataKey.indexOf('ss.') !== 0 &&\n              dataKey.indexOf('ls.') !== 0 &&\n              dataKey.indexOf('qp.') !== 0 &&\n              dataKey.indexOf('meta.') !== 0 &&\n              dataKey.indexOf('cp.') !== 0\n            ) {\n              !u.send_udo_variables && delete filterObject[dataKey];\n              return;\n            }\n          });\n\n          json_string = JSON.stringify(dataStringify);\n\n          // u.profile_specific_vid is only set to 1 when multiple server endpoints are configured\n          // u.visitor_id is only set if the enrichment frequency is \"frequent\" or \"infrequent\"\n          // this replaces the normal visitor ID with a profile-specific visitor ID for each endpoint so that visitor IDs are not shared across multiple endpoints\n          if (u.profile_specific_vid === 1 && u.visitor_id) {\n            json_string = json_string.replace(regExpReplace, u.visitor_id + u.get_account_profile(server)[2]);\n          }\n          if (useEventData) {\n            return json_string;\n          }\n\n          var formData = new FormData();\n          formData.append(\"data\", json_string);\n          return formData;\n        }\n\n        function postData(server_index, enrichment_polling, enrichment_polling_delay, useEventData) {\n\n          if (server_index+1 > u.server_list.length) {\n            return;\n          }\n          var xhr = new XMLHttpRequest();\n          var server = u.validateProtocol(u.server_list[server_index], true);\n          var data = getSendData(useEventData, server);\n\n          // Use sendBeacon, if available, to send the request data\n          // unless region has not been obtained yet or have not been provided by the configuration\n          // when region will get obtained switch to sendBeacon because it is not necessary to process the response again\n          // If region is not obtained yet or have not been provided use XHR which allows processing of the response\n          // and will obtain the information for leveraging the Tealium CDN regions\n          u.region = utag.loader.RC(\"utag_main\")[\"dc_region\"] || u.region || \"\";\n          if (typeof navigator.sendBeacon === 'function' && u.region !== \"\" && u.use_sendBeacon) {\n            u.server_list.forEach(function(serverItem) {\n              var beaconSent = navigator.sendBeacon(infixParameters(serverItem, u.tc_string), data);\n              if (!beaconSent) {\n                xhr.open(\"post\", infixParameters(serverItem, u.tc_string), true);\n                xhr.withCredentials = true;\n                xhr.send(data);\n              }\n              if (u.make_enrichment_request && u.enrichment_enabled[serverItem]) {\n                u.do_enrichment(serverItem, enrichment_polling, enrichment_polling_delay);\n              }\n            });\n            utag.DB(\"Data sent using sendBeacon\");\n            return;\n          }\n          xhr.addEventListener(\"readystatechange\", function() {\n            if (xhr.readyState === 3) {\n              try {\n                u.region = xhr.getResponseHeader(\"X-Region\") || u.region || \"\";\n              } catch(res_error) {\n                utag.DB(res_error);\n                u.region = u.region || \"\";\n              }\n\n              if (u.region)utag.loader.SC(\"utag_main\", {\"dc_region\": u.region + \";exp-session\"});\n              utag.DB(\"dc_region:\" + u.region);\n            } else if (xhr.readyState === 4) {\n              // do secondary call for multiple server locations\n              postData(server_index + 1, enrichment_polling, enrichment_polling_delay, useEventData);\n              if (u.make_enrichment_request && u.enrichment_enabled[server]) {\n                u.do_enrichment(server, enrichment_polling, enrichment_polling_delay);\n              }\n            }\n          });\n\n          // if a custom endpoint is listed without a protocol, this will force that endpoint to use HTTPS\n          if (u.server_list[server_index].toLowerCase().indexOf(\"http\") !== 0) {\n            u.server_list[server_index] = u.validateProtocol(u.server_list[server_index], true);\n          }\n          var serverUrl = infixParameters(u.server_list[server_index], u.tc_string);\n          xhr.open(\"post\", serverUrl, true);\n          xhr.withCredentials = true;\n\n          xhr.send(data);\n        }\n\n        if (\n          u.use_event_endpoint &&\n          (u.tag_config_server === u.event_url || u.tag_config_region !== \"default\") &&\n          window.FormData\n        ) {\n          postData(0, u.enrichment_polling, u.enrichment_polling_delay, true);\n        } else if (window.FormData) {\n          // modern browsers\n          // eslint-disable-next-line no-inner-declarations\n          postData(0, u.enrichment_polling, u.enrichment_polling_delay, false);\n        } else {\n          // fallback (old browsers)\n          for (i = 0; i < u.server_list.length; i++) {\n            (function(i, enrichment_polling, enrichment_polling_delay) {\n              var server = u.server_list[i];\n              setTimeout( function(){\n                json_string = JSON.stringify(u.data);\n                if (u.profile_specific_vid == 1 && u.visitor_id) {\n                  json_string = json_string.replace(regExpReplace, u.visitor_id + u.get_account_profile(server)[2]);\n                }\n                var img = new Image();\n                img.src = server + \"?\" + (u.tc_string ? u.tc_string + \"&\" : \"\") + \"data=\"+encodeURIComponent(json_string);\n                if ( u.make_enrichment_request && u.enrichment_enabled[server] ) {\n                  u.do_enrichment(server, enrichment_polling, enrichment_polling_delay);\n                }\n              }, i*700 );\n            }(i, u.enrichment_polling, u.enrichment_polling_delay));\n          }\n        }\n      }\n    }\n  };\n  try{utag.o[loader].loader.LOAD(id);}catch(e){utag.loader.LOAD(id);}\n})(\"##UTID##\",\"##UTLOADERID##\");\n}catch(e){utag.DB(e);}\n//end tealium universal tag\n"
      }
    },
    {
      "id": 93,
      "tagId": "7142",
      "name": "Google Analytics 4 (gtag.js) - nathanschrader.com",
      "library": null,
      "status": "active",
      "notes": "",
      "dataMappings": [],
      "selectedTargets": {
        "qa": true,
        "prod": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202512272129",
        "prod": "202512272129",
        "dev": "202512152034"
      },
      "advancedConfiguration": {
        "bundleFlag": false,
        "syncLoadType": false,
        "optOut": true,
        "sendFlag": true,
        "scriptSource": "",
        "tagTiming": "DOM Ready"
      },
      "configuration": {
        "send_page_view": "true",
        "data_layer_name": "",
        "clear_global_vars": "false",
        "measurement_id": "G-C12X887Y97",
        "gaobject": ""
      },
      "rules": {
        "apply": null,
        "exclude": null
      },
      "template": {
        "name": "Google Analytics 4 (gtag.js) - nathanschrader.com, Tag ID:7142",
        "templateCode": "//~~tv:7142.20250115\n//~~tc: Fix duplicate events\n//~~tc: Fix logical order\n\n//ESLint Configurations\n/*global utag*/\n\n/* utag.js version 4.36 or above is required to avoid errors with this tag template */\n\n//tealium universal tag - utag.sender.7142 ut4.0.##UTVERSION##, Copyright ##UTYEAR## Tealium.com Inc. All Rights Reserved.\ntry {\n  (function (id, loader) {\n    var u = {\n      \"id\" : id\n    };\n\n    utag.o[loader].sender[id] = u;\n\n    u.ev = {\n      \"view\" : 1,\n      \"link\" : 1\n    };\n\n    u.toBoolean = function (val) {\n      val = val || \"\";\n      return val === true || val.toLowerCase() === \"true\" || val.toLowerCase() === \"on\";\n    };\n\n    u.hasgtagjs = function() {\n      window.gtagRename = window.gtagRename || \"##UTVARconfig_gaobject##\" || \"gtag\";\n      if (utag.ut.gtagScriptRequested) {\n        return true;\n      }\n      var i, s = document.getElementsByTagName(\"script\");\n      for (i = 0; i < s.length; i++) {\n        if (s[i].src && s[i].src.indexOf(\"gtag/js\") >= 0 && (s[i].id && s[i].id.indexOf(\"utag\") > -1)) {\n          return true;\n        }\n      }\n      var data_layer_name = \"##UTVARconfig_data_layer_name##\" || \"dataLayer\";\n      window[data_layer_name] = window[data_layer_name] || [];\n      if ( typeof window[window.gtagRename] !== \"function\" ) {\n        window[window.gtagRename] = function() { window[data_layer_name].push(arguments); };\n\n        //START CROSS DOMAIN TRACKING\n        // *Note: this is not necessary in ga4\n        var cross_track = u.toBoolean(\"##UTVARconfig_cross_track##\"),\n            cross_track_domains = \"##UTVARconfig_cross_track_domains##\";\n\n        if (cross_track && cross_track_domains !== \"\") {\n          window[window.gtagRename](\"set\", \"linker\", {\n            domains: cross_track_domains.split(\",\"),\n            accept_incoming: true\n          });\n        }\n        //END CROSS DOMAIN TRACKING\n\n        window[window.gtagRename](\"js\", new Date());\n      }\n      return false;\n    }\n\n    u.scriptrequested = u.hasgtagjs();\n    u.initialized = false;\n    u.o = window[window.gtagRename];\n\n    u.mapFunc = function(arr, obj, item) {\n      var i = arr.shift();\n      obj[i] = obj[i] || {};\n      if (arr.length > 0) {\n        u.mapFunc(arr,obj[i], item);\n      } else {\n        obj[i] = item;\n      }\n    };\n\n    u.clearEmptyKeys = function(object) {\n      Object.keys(object).forEach(function(key) {\n        if (\n            object[key] === '' ||\n            object[key] === undefined\n        ) {\n          delete object[key];\n        }\n      });\n      return object;\n    };\n\n\n    // loops through and sets all properties that have to be set using the \"set\" command\n    u.setGlobalProperties =function(data, reset, custom_property) {\n      // known params - this can be updated if more get introduced later\n      // supports boolean (string or boolean) types also if \"type\" is set to \"bool\"\n      var map= {\n            \"user_id\" : {\"name\" :\"user_id\", \"type\" : \"exists\", \"reset\" : true},\n            \"page_path\" : {\"name\" : \"page_path\", \"type\" : \"exists\", \"reset\" : true},\n            \"page_title\" : {\"name\" : \"page_title\", \"type\" : \"exists\", \"reset\" : true},\n            \"page_location\" : {\"name\" : \"page_location\", \"type\" : \"exists\", \"reset\" : false},\n            \"developer_id.dYmQxMT\" : {\"name\" : \"developer_id.dYmQxMT\", \"type\" : \"exists\", \"reset\" : false},\n            \"user_properties\" : {\"name\" : \"user_properties\", \"type\" : \"object\", \"reset\" : true}\n          },\n          prop,\n          subProp,\n          g = {};\n\n      // allow one-off items to be reset if passed in\n      if (custom_property && reset) {\n        g[custom_property] = \"\";\n      }\n      // loop through the known parameters, and either reset them if reset is true, or set them if not\n      for (prop in utag.loader.GV(map)) {\n\n        if (reset && map[prop].reset) {\n          // handle user_properties object\n          if (map[prop].name === \"user_properties\") {\n            for (subProp in data[prop]) {\n              if (!g[map[prop].name]) {\n                g[map[prop].name] = {};\n              }\n              g[map[prop].name][subProp] = \"\";\n            }\n          } else {\n            g[map[prop].name] = \"\";\n          }\n        } else {\n          // handle \"boolean\" case\n          if (map[prop].type === \"bool\") {\n            if (data[prop] == true || data[prop] === \"true\") {\n              g[map[prop].name] = true;\n            }\n          }\n          // handle default case and just check if the parameter exists on u.data\n          else if (map[prop].type === \"exists\" || map[prop].type === \"object\") {\n            if (data[prop]) {\n              g[map[prop].name] = data[prop];\n            }\n          }\n        }\n      }\n      if (!utag.ut.isEmptyObject(g)){\n        u.o(\"set\", g);\n      }\n    }\n\n    u.createAddress = function(address) {\n      return u.clearEmptyKeys({\n        first_name: address.first_name,\n        sha256_first_name: address.sha256_first_name,\n        last_name: address.last_name,\n        sha256_last_name: address.sha256_last_name,\n        street: address.street,\n        city: address.city,\n        region: address.region,\n        postal_code: address.postal_code,\n        country: address.country\n      });\n    }\n\n    u.getValueByIndex = function(value, index) {\n      return Array.isArray(value) ? value[index] : value;\n    };\n\n    u.setUserData = function(user_data) {\n      var formattedUserData = {};\n\n      formattedUserData.email = user_data.email;\n      formattedUserData.sha256_email_address = user_data.sha256_email_address;\n      formattedUserData.phone_number = user_data.phone_number;\n      formattedUserData.sha256_phone_number = user_data.sha256_phone_number;\n\n      if (user_data.address) {\n        if (Array.isArray(user_data.address.first_name)) {\n          formattedUserData.address = user_data.address.first_name.map(function(_, i) {\n            return u.createAddress({\n              first_name: u.getValueByIndex(user_data.address.first_name, i) ,\n              sha256_first_name: u.getValueByIndex(user_data.sha256_first_name, i),\n              last_name: u.getValueByIndex(user_data.address.last_name, i),\n              sha256_last_name: u.getValueByIndex(user_data.sha256_last_name, i),\n              street: u.getValueByIndex(user_data.address.street, i),\n              city: u.getValueByIndex(user_data.address.city, i),\n              region: u.getValueByIndex(user_data.address.region, i),\n              postal_code: u.getValueByIndex(user_data.address.postal_code, i),\n              country: u.getValueByIndex(user_data.address.country, i)\n            });\n          });\n        } else {\n          formattedUserData.address = u.createAddress(user_data.address);\n        }\n      }\n\n      u.o('set', 'user_data', u.clearEmptyKeys(formattedUserData));\n    }\n\n    // Returns an array of Product objects for use in impressions, clicks and detail views\n    u.getItems = function(length) {\n      var g = {}, i, items = [];\n\n      length = length || u.data.product_id.length || u.data.product_name.length;\n\n      for (i = 0; i < length; i++) {\n        g = {};\n        g.item_id = u.data.product_id[i];\n        if (u.data.product_name[i]){g.item_name = u.data.product_name[i];}\n        if (u.data.product_coupon[i]){g.coupon = u.data.product_coupon[i];}\n        if (u.data.product_discount[i]){g.discount = u.data.product_discount[i];}\n        if (u.data.product_affiliation[i]){g.affiliation = u.data.product_affiliation[i];}\n        if (u.data.product_brand[i]){g.item_brand = u.data.product_brand[i];}\n        if (u.data.product_category[i]){g.item_category = u.data.product_category[i];}\n        if (u.data.product_subcategory[i]){g.item_category2 = u.data.product_subcategory[i];}\n        if (u.data.product_addcategory3[i]){g.item_category3 = u.data.product_addcategory3[i];}\n        if (u.data.product_addcategory4[i]){g.item_category4 = u.data.product_addcategory4[i];}\n        if (u.data.product_addcategory5[i]){g.item_category5 = u.data.product_addcategory5[i];}\n        if (u.data.product_variant[i]){g.item_variant = u.data.product_variant[i];}\n        if (u.data.product_unit_price[i]){g.price = u.data.product_unit_price[i];}\n        if (u.data.order_currency){g.currency = u.data.order_currency;}\n        if (u.data.product_quantity[i]){g.quantity = u.data.product_quantity[i];}\n        if (u.data.product_promotion_id[i]){g.promotion_id = u.data.product_promotion_id[i];}\n        if (u.data.product_promotion_name[i]){g.promotion_name = u.data.product_promotion_name[i];}\n        if (u.data.product_creative_name[i]){g.creative_name = u.data.product_creative_name[i];}\n        if (u.data.product_creative_slot[i]){g.creative_slot = u.data.product_creative_slot[i];}\n        if (u.data.product_location_id[i]){g.location_id = u.data.product_location_id[i];}\n        if (u.data.product_index[i]){g.index = u.data.product_index[i];}\n        if (u.data.product_item_list_name[i]){g.item_list_name = u.data.product_item_list_name[i];}\n        if (u.data.product_item_list_id[i]){g.item_list_id = u.data.product_item_list_id[i];}\n\n        // item support\n        if (u.data.item) {\n          Object.keys(u.data.item).forEach(function (itemKey) {\n            if (Array.isArray(u.data.item[itemKey])) {\n              g[itemKey] = u.data.item[itemKey][i]\n            }\n          })\n        }\n\n        items.push(g);\n      }\n      return items;\n    }\n\n    u.event_map = {\n      add_payment_info: [\"coupon\", \"currency\", \"items\", \"payment_type\", \"value\"],\n      add_shipping_info: [\"coupon\",\"currency\",\"items\",\"shipping_tier\",\"value\"],\n      add_to_cart: [\"currency\",\"items\",\"value\"],\n      add_to_wishlist: [\"currency\",\"items\",\"value\"],\n      begin_checkout: [\"coupon\",\"currency\",\"items\",\"value\"],\n      earn_virtual_currency: [\"virtual_currency_name\",\"value\"],\n      generate_lead: [\"currency\",\"value\"],\n      join_group: [\"group_id\"],\n      level_end: [\"level_name\",\"success\"],\n      level_start: [\"level_name\"],\n      level_up: [\"level\",\"character\"],\n      login: [\"method\"],\n      post_score: [\"score\",\"level\",\"character\"],\n      purchase: [\"affiliation\",\"coupon\",\"currency\",\"items\",\"transaction_id\",\"shipping\",\"tax\",\"value\"],\n      refund: [\"affiliation\",\"coupon\",\"currency\",\"items\",\"transaction_id\",\"shipping\",\"tax\",\"value\"],\n      remove_from_cart: [\"currency\",\"items\",\"value\"],\n      search: [\"search_term\"],\n      select_content: [\"content_type\",\"item_id\"],\n      select_item: [\"items\",\"item_list_name\",\"item_list_id\"],\n      select_promotion: [\"items\",\"location_id\"],\n      share: [\"method\",\"content_type\",\"content_id\"],\n      sign_up: [\"method\"],\n      spend_virtual_currency: [\"item_name\",\"virtual_currency_name\",\"value\"],\n      tutorial_begin: [],\n      tutorial_complete: [],\n      unlock_achievement: [\"achievement_id\"],\n      view_cart: [\"currency\",\"items\",\"value\"],\n      view_item: [\"currency\",\"items\",\"value\"],\n      view_item_list: [\"items\",\"item_list_name\",\"item_list_id\"],\n      view_promotion: [\"items\",\"location_id\"],\n      exception: [\"description\",\"fatal\"],\n      screen_view: [\"screen_name\"]\n    };\n\n    u.std_params = {\n      \"transaction_id\" : function() {\n        return u.data.order_id;\n      },\n      \"affiliation\" : function() {\n        return u.data.order_store;\n      },\n      \"value\" : function(event) {\n        if (event.match(/timing_complete|virtual_currency/i)) {\n          return u.data.value;\n        }\n        return u.data.order_total;\n      },\n      \"currency\" : function() {\n        return u.data.order_currency;\n      },\n      \"tax\" : function() {\n        return u.data.order_tax;\n      },\n      \"shipping\" : function() {\n        return u.data.order_shipping;\n      },\n      \"coupon\": function () {\n        return u.data.order_coupon_code;\n      },\n      \"fatal\": function () {\n        return u.toBoolean(u.data.fatal);\n      },\n      \"items\" : function (event) {\n        // Send a single product\n        if ( event.match(/view_item$|select_content/)) {\n          return u.getItems(1);\n        }\n        return u.getItems();\n      },\n      \"item_id\": function () {\n        return u.data.product_id[0] ? u.data.product_id[0] : \"\";\n      }\n    };\n\n    /* eslint-disable-next-line */\n    ##UTGEN##\n\n    u.send = function (utag_event, data_layer) {\n      if (u.ev[utag_event] || u.ev.all !== undefined) {\n        utag.DB(\"send:##UTID##\");\n        utag.DB(data_layer);\n\n        var a, b, c, d, i, j, has_purchase = false, prop;\n        a = utag_event;\n        b = data_layer;\n\n        u.data = {\n          \"base_url\": \"https://www.googletagmanager.com/gtag/js?id=##utag_measurement_id##\",\n          // Config\n          \"measurement_id\": \"##UTVARconfig_measurement_id##\",\n          \"clear_global_vars\": \"##UTVARconfig_clear_global_vars##\",\n          \"data_layer_name\": \"##UTVARconfig_data_layer_name##\",\n          \"send_page_view\": \"##UTVARconfig_send_page_view##\",\n          // E-Commerce Vars\n          \"order_id\": \"\",\n          \"order_total\": \"\",\n          \"order_subtotal\": \"\",\n          \"order_shipping\": \"\",\n          \"order_tax\": \"\",\n          \"order_store\": \"\",\n          \"order_currency\": \"\",\n          \"order_coupon_code\": \"\",\n          \"product_id\": [],\n          \"product_name\": [],\n          \"product_brand\": [],\n          \"product_category\": [],\n          \"product_subcategory\": [],\n          \"product_addcategory3\": [],\n          \"product_addcategory4\": [],\n          \"product_addcategory5\": [],\n          \"product_quantity\": [],\n          \"product_unit_price\": [],\n          \"product_discount\": [],\n          \"product_coupon\": [],\n          \"product_variant\": [],\n          \"product_promotion_id\": [],\n          \"product_promotion_name\": [],\n          \"product_creative_name\": [],\n          \"product_creative_slot\": [],\n          \"product_location_id\": [],\n          \"product_index\": [],\n          \"product_item_list_name\": [],\n          \"product_item_list_id\": [],\n          \"product_affiliation\": [],\n          \"event_queue\": [],\n          \"config\": {},\n          \"set\": {\n            \"developer_id.dYmQxMT\": true,\n            \"user_properties\": {}\n          },\n          \"dynamic_event_trigger\": \"\",\n          \"dynamic_event\": {},\n          \"user_data\": {},\n          \"event\": {},\n          \"items\": []\n        };\n\n        // Start tag-scoped extensions\n        /* eslint-disable-next-line */\n        ##UTEXTEND##\n        utag.DB(\"send:##UTID##:EXTENSIONS\");\n        utag.DB(data_layer);\n        // End tag-scoped extensions\n\n        // Start Mapping\n        for (var mapping_key in utag.loader.GV(u.map)) {\n          if (data_layer[mapping_key] !== undefined && data_layer[mapping_key] !== \"\") {\n            var destinations = u.map[mapping_key].split(\",\");\n            for (i = 0; i < destinations.length; i++) {\n              u.mapFunc(destinations[i].split(\".\"), u.data, data_layer[mapping_key]);\n            }\n          } else {\n            // Event trigger mapping\n            var event_destinations = mapping_key.split(\":\");\n            if (event_destinations.length === 2 && data_layer[event_destinations[0]] === event_destinations[1]) {\n              if (u.map[mapping_key]) {\n                u.data.event_queue = u.data.event_queue.concat(u.map[mapping_key].split(\",\"));\n              }\n            }\n          }\n        }\n        utag.DB(\"send:##UTID##:MAPPINGS\");\n        utag.DB(u.data);\n        // End Mapping\n\n        // Bring E-Commerce extension values into u.data.\n        // Mappings override E-Commerce extension values.\n        u.data.order_id = u.data.order_id || data_layer._corder || \"\";\n        u.data.order_total = u.data.order_total || data_layer._ctotal || \"\";\n        u.data.order_shipping = u.data.order_shipping || data_layer._cship || \"\";\n        u.data.order_tax = u.data.order_tax || data_layer._ctax || \"\";\n        u.data.order_store = u.data.order_store || data_layer._cstore || \"\";\n        u.data.order_currency = u.data.order_currency || data_layer._ccurrency || \"\";\n        u.data.order_coupon_code = u.data.order_coupon_code || data_layer._cpromo || \"\";\n        u.data.customer_id = u.data.customer_id || data_layer._ccustid || \"\";\n        u.data.customer_city = u.data.customer_city || data_layer._ccity || \"\";\n        u.data.customer_state = u.data.customer_state || data_layer._cstate || \"\";\n        u.data.customer_zip = u.data.customer_zip || data_layer._czip || \"\";\n        u.data.customer_country = u.data.customer_country || data_layer._ccountry || \"\";\n        if (u.data.product_id.length === 0 && data_layer._cprod !== undefined) {\n          u.data.product_id = data_layer._cprod.slice(0);\n        }\n        if (u.data.product_name.length === 0 && data_layer._cprodname !== undefined) {\n          u.data.product_name = data_layer._cprodname.slice(0);\n        }\n        if (u.data.product_brand.length === 0 && data_layer._cbrand !== undefined) {\n          u.data.product_brand = data_layer._cbrand.slice(0);\n        }\n        if (u.data.product_category.length === 0 && data_layer._ccat !== undefined) {\n          u.data.product_category = data_layer._ccat.slice(0);\n        }\n        if (u.data.product_subcategory.length === 0 && data_layer._ccat2 !== undefined) {\n          u.data.product_subcategory = data_layer._ccat2.slice(0);\n        }\n        if (u.data.product_quantity.length === 0 && data_layer._cquan !== undefined) {\n          u.data.product_quantity = data_layer._cquan.slice(0);\n        }\n        if (u.data.product_unit_price.length === 0 && data_layer._cprice !== undefined) {\n          u.data.product_unit_price = data_layer._cprice.slice(0);\n        }\n        if (u.data.product_discount.length === 0 && data_layer._cpdisc !== undefined) {\n          u.data.product_discount = data_layer._cpdisc.slice(0);\n        }\n        if (utag.ut.typeOf(u.data.measurement_id) === \"string\" && u.data.measurement_id !== \"\") {\n          u.data.measurement_id = u.data.measurement_id.replace(/\\s/g, \"\").split(\",\");\n        }\n        if (u.data.data_layer_name) {\n          u.data.base_url = u.data.base_url + \"&l=\" + u.data.data_layer_name;\n        }\n\n        // Report if required values are missing and stop tag from firing.\n        if (!u.data.measurement_id) {\n          utag.DB(u.id + \": Tag not fired: Required attribute measurement_id not populated\");\n          return;\n        }\n\n        if (u.data.gtag_enable_tcf_support) {\n          window[\"gtag_enable_tcf_support\"] = u.toBoolean(u.data.gtag_enable_tcf_support);\n        }\n\n        // Campaign Parameters\n        var utmParams = [\"utm_source\", \"utm_medium\", \"utm_campaign\", \"utm_term\", \"utm_content\"];\n        var utmPageLocation = u.data.config.page_location || data_layer[\"dom.url\"];\n        var utmQuery = [];\n        utmParams.forEach(function(paramName){\n          if (u.data[paramName] && utmPageLocation.indexOf(paramName + \"=\") === -1) {utmQuery.push(paramName + \"=\" + u.data[paramName]);}\n        });\n\n        if (utmQuery.length) {\n          u.data.config.page_location = utmPageLocation.indexOf(\"?\") === -1 ? utmPageLocation + \"?\" + utmQuery.join(\"&\") : utmPageLocation + \"&\" + utmQuery.join(\"&\");\n        }\n\n        u.data.event.send_to = u.data.event.send_to || u.data.measurement_id;\n\n        if (u.data.customer_id) {\n          u.data.config.user_id = u.data.customer_id;\n        }\n\n        // Set\n        // Clear globally set vars\n        if ( u.toBoolean(u.data.clear_global_vars)) {\n          u.setGlobalProperties(u.data.config, true);\n          // clear custom vars set via \"set.xxx\"\n          for ( prop in utag.loader.GV(u.data.set) ) {\n            if (prop !== \"developer_id.dYmQxMT\") {\n              u.setGlobalProperties(u.data.set, true, prop);\n            }\n          }\n        }\n        // Set the global properties with what's been passed into this hit\n        u.setGlobalProperties(u.data.config, false);\n        u.setGlobalProperties(u.data.set, false);\n        u.setUserData(u.data.user_data);\n\n        // Config\n        // Disable default page_view measurement behavior https://developers.google.com/analytics/devguides/collection/ga4/disable-page-view\n        if (u.data.config.send_page_view !== undefined) {\n          u.data.send_page_view = u.toBoolean(u.data.config.send_page_view);\n        }\n\n        if (u.toBoolean(u.data.send_page_view) &&\n          (utag_event === 'view' || !u.initialized)\n        ) {\n          u.data.event_queue.unshift(\"page_view\");\n        }\n        u.data.config.send_page_view = false;\n\n        for (i = 0; i < u.data.measurement_id.length; i++) {\n          // Prepend \"G-\" Measurement ID prefix if not present\n          if (!/^[a-zA-Z]{1}-|^[a-zA-Z]{2}-/.test(u.data.measurement_id[i]) ) {\n            u.data.measurement_id[i] = \"G-\" + u.data.measurement_id[i];\n          }\n          u.o(\"config\", u.data.measurement_id[i], u.data.config);\n        }\n        u.initialized = true;\n\n        if (u.data.dynamic_event_trigger) {\n          var hasPurchaseEvent = u.data.event_queue.indexOf(\"purchase\") !== -1;\n          if (!hasPurchaseEvent || u.data.dynamic_event_trigger !== \"purchase\") {\n            u.data.event_queue.push(u.data.dynamic_event_trigger);\n            u.data[u.data.dynamic_event_trigger] = u.data.dynamic_event || {};\n          }\n        }\n\n        // Automatic Purchase tracking: if a Purchase event has not been queued and there's an order ID present, queue it\n        for (i = 0; i < u.data.event_queue.length; i++) {\n          if (u.data.event_queue[i] === \"purchase\" || u.data.event_queue[i] === \"refund\") {\n            has_purchase = true;\n          }\n        }\n\n        if (u.data.order_id && !has_purchase) {\n          u.data.event_queue.push(\"purchase\");\n        }\n\n        for (i = 0; i < u.data.event_queue.length; i++) {\n          var event_name = u.data.event_queue[i];\n          var event_data = {};\n          event_data = JSON.parse(JSON.stringify(u.data.event));\n\n          if (u.data.event.event_callback) {event_data.event_callback = u.data.event.event_callback;}\n          if (u.data.event.non_interaction) {u.data.event.non_interaction = true;}\n\n          if (u.event_map[event_name]) {\n            for (j = 0; j < u.event_map[event_name].length; j++) {\n              var event_param = u.event_map[event_name][j];\n              // Use u.std_params for computed params, otherwise pull from u.data.\n              var event_param_value = u.std_params[event_param] ? u.std_params[event_param](event_name) : u.data[event_param] || \"\";\n              // Add parameter to event object if not empty\n              if (event_param_value !== \"\") {event_data[event_param] = event_param_value;}\n            }\n          }\n          Object.keys(u.map).forEach(function(mapping_from) {\n            if (\n              u.map[mapping_from].match(new RegExp(event_name + '^')) &&\n              typeof b[mapping_from] !== \"undefined\"\n            ) {\n              var mapDestination = u.map[mapping_from].split(',')[0];\n              var mapping_to = mapDestination.substring(event_name.length + 1);\n              event_data[mapping_to] = b[mapping_from];\n            }\n          });\n          utag.ut.merge(event_data, u.data[event_name], 0);\n          utag.ut.merge(event_data, u.data.all_events || {}, 0);\n          u.o(\"event\", event_name, event_data);\n        }\n\n        if (!u.hasgtagjs()) {\n          u.scriptrequested = true;\n          utag.ut.gtagScriptRequested = true;\n          u.data.base_url = u.data.base_url.replace(\"##utag_measurement_id##\", u.data.measurement_id[0]);\n          utag.ut.loader({\n            type : \"script\",\n            src : u.data.base_url,\n            cb : null,\n            loc : \"script\",\n            id : \"utag_##UTID##\",\n            attrs : {}\n          });\n        }\n\n        utag.DB(\"send:##UTID##:COMPLETE\");\n      }\n    };\n\n\n    utag.o[loader].loader.LOAD(id);\n  }(\"##UTID##\", \"##UTLOADERID##\"));\n} catch (error) {\n  utag.DB(error);\n}\n//end tealium universal tag\n"
      }
    },
    {
      "id": 95,
      "tagId": "6037",
      "name": "Facebook Pixel - jrv",
      "library": null,
      "status": "active",
      "notes": "",
      "dataMappings": [],
      "selectedTargets": {
        "prod": true,
        "qa": true,
        "dev": true
      },
      "environmentVersions": {
        "qa": "202601132337",
        "prod": "202601132337",
        "dev": "202601132337"
      },
      "advancedConfiguration": {
        "bundleFlag": false,
        "syncLoadType": false,
        "optOut": true,
        "sendFlag": true,
        "scriptSource": "",
        "tagTiming": "DOM Ready"
      },
      "configuration": {
        "generate_event_id": "true",
        "advanced_matching": "false",
        "pixel_id": "123456789"
      },
      "rules": {
        "apply": [
          {
            "and": [
              {
                "or": [
                  {
                    "uid": "17",
                    "type": "loadRule"
                  }
                ]
              }
            ]
          }
        ],
        "exclude": null
      },
      "template": {
        "name": "Facebook Pixel - jrv, Tag ID:6037",
        "templateCode": "//~~tv:6037.20251205\n//~~tc: Added Store Data Parameters Support\n//~~tc: Resolved RequireJS Anonymous define() Conflict in SPAs\n//~~tc: Update Search event\n//~~tc: Update logic of capturing _fbc cookie\n\n//ESLint configurations\n/*global utag fbq*/\n/*eslint no-unused-vars: [\"error\",{\"varsIgnorePattern\": \"^c$\"}]*/\n\n// Facebook Pixel initialization code for Tealium\n(function(f) {\n  if (f.fbq) return;\n  var n = f.fbq = function() {\n    n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments);\n  };\n  if (!f._fbq) f._fbq = n;\n  n.push = n;\n  n.loaded = !0;\n  n.version = \"2.0\";\n  n.queue = [];\n  n.agent = \"tmtealium\";\n})(window);\n\n//tealium universal tag - utag.sender.template ut4.0.##UTVERSION##, Copyright ##UTYEAR## Tealium.com Inc. All Rights Reserved.\ntry {\n  (function (id, loader) {\n    var u = {\"id\" : id}, md5;\n    utag.o[loader].sender[id] = u;\n    utag.globals = utag.globals || {};\n\n    /* eslint-disable */\n    // Please do not modify\n    if (utag.ut === undefined) { utag.ut = {}; }\n    // Start Tealium loader 4.41\n    /* utag.js version 4.26 or above is required to avoid errors with this loader function */\n    var match = /ut\\d\\.(\\d*)\\..*/.exec(utag.cfg.v);\n    if (utag.ut.loader === undefined || !match || parseInt(match[1]) < 41) { u.loader = function(o, a, b, c, l, m) { utag.DB(o); a = document; if (o.type == \"iframe\") { m = a.getElementById(o.id); if (m && m.tagName == \"IFRAME\") { b = m; } else { b = a.createElement(\"iframe\"); } o.attrs = o.attrs || {}; utag.ut.merge(o.attrs, { \"height\": \"1\", \"width\": \"1\", \"style\": \"display:none\" }, 0); } else if (o.type == \"img\") { utag.DB(\"Attach img: \" + o.src); b = new Image(); } else { b = a.createElement(\"script\"); b.language = \"javascript\"; b.type = \"text/javascript\"; b.async = 1; b.charset = \"utf-8\"; } if (o.id) { b.id = o.id; } for (l in utag.loader.GV(o.attrs)) { b.setAttribute(l, o.attrs[l]); } b.setAttribute(\"src\", o.src); if (typeof o.cb == \"function\") { if (b.addEventListener) { b.addEventListener(\"load\", function() { o.cb(); }, false); } else { b.onreadystatechange = function() { if (this.readyState == \"complete\" || this.readyState == \"loaded\") { this.onreadystatechange = null; o.cb(); } }; } } if (o.type != \"img\" && !m) { l = o.loc || \"head\"; c = a.getElementsByTagName(l)[0]; if (c) { utag.DB(\"Attach to \" + l + \": \" + o.src); if (l == \"script\") { c.parentNode.insertBefore(b, c); } else { c.appendChild(b); } } } }; } else { u.loader = utag.ut.loader; }\n    // End Tealium loader\n    // Start Tealium typeOf 4.35\n    if (utag.ut.typeOf === undefined) { u.typeOf = function(e) {return ({}).toString.call(e).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();};} else { u.typeOf = utag.ut.typeOf; }\n    // End Tealium typeOf\n\n    // Start Tealium MD5\n    if (utag.ut.md5 === undefined) {\n      /*\n        CryptoJS v4.0.0\n        https://github.com/brix/crypto-js\n        Copyright (c) 2009-2013 Jeff Mott.\n        Copyright (c) 2013-2016 Evan Vosberg.\n        https://github.com/brix/crypto-js/blob/master/LICENSE\n      */\n      md5=function(t,n){var r;if(\"undefined\"!=typeof window&&window.crypto&&(r=window.crypto),!r&&\"undefined\"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&\"undefined\"!=typeof global&&global.crypto&&(r=global.crypto),!r&&\"function\"==typeof require)try{r=require(\"crypto\")}catch(t){}var e=function(){if(r){if(\"function\"==typeof r.getRandomValues)\n      try{return r.getRandomValues(new Uint32Array(1))[0]}catch(t){}if(\"function\"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(t){}}throw new Error(\"Native crypto module could not be used to get secure random number.\")},i=Object.create||function(){function t(){}return function(n){var r;return t.prototype=n,r=new t,t.prototype=null,r}}(),o={},s=o.lib={},a=s.Base={extend:function(t){\n      var n=i(this);return t&&n.mixIn(t),n.hasOwnProperty(\"init\")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty(\"toString\")&&(this.toString=t.toString)},clone:function(){\n      return this.init.prototype.extend(this)}},c=s.WordArray=a.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=null!=n?n:4*t.length},toString:function(t){return(t||f).stringify(this)},concat:function(t){var n=this.words,r=t.words,e=this.sigBytes,i=t.sigBytes;if(this.clamp(),e%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;n[e+o>>>2]|=s<<24-(e+o)%4*8}else for(o=0;o<i;o+=4)n[e+o>>>2]=r[o>>>2];\n      return this.sigBytes+=i,this},clamp:function(){var n=this.words,r=this.sigBytes;n[r>>>2]&=4294967295<<32-r%4*8,n.length=t.ceil(r/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(e());return new c.init(n,t)}}),u=o.enc={},f=u.Hex={stringify:function(t){for(var n=t.words,r=t.sigBytes,e=[],i=0;i<r;i++){\n      var o=n[i>>>2]>>>24-i%4*8&255;e.push((o>>>4).toString(16)),e.push((15&o).toString(16))}return e.join(\"\")},parse:function(t){for(var n=t.length,r=[],e=0;e<n;e+=2)r[e>>>3]|=parseInt(t.substr(e,2),16)<<24-e%8*4;return new c.init(r,n/2)}},h=u.Latin1={stringify:function(t){for(var n=t.words,r=t.sigBytes,e=[],i=0;i<r;i++){var o=n[i>>>2]>>>24-i%4*8&255;e.push(String.fromCharCode(o))}\n      return e.join(\"\")},parse:function(t){for(var n=t.length,r=[],e=0;e<n;e++)r[e>>>2]|=(255&t.charCodeAt(e))<<24-e%4*8;return new c.init(r,n)}},d=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw new Error(\"Malformed UTF-8 data\")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},l=s.BufferedBlockAlgorithm=a.extend({reset:function(){\n      this._data=new c.init,this._nDataBytes=0},_append:function(t){\"string\"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var r,e=this._data,i=e.words,o=e.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=n?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,f=t.min(4*u,o);if(u){for(var h=0;h<u;h+=s)this._doProcessBlock(i,h);r=i.splice(0,u),e.sigBytes-=f}\n      return new c.init(r,f)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(s.Hasher=l.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){\n      return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,r){return new t.init(r).finalize(n)}},_createHmacHelper:function(t){return function(n,r){return new p.HMAC.init(t,r).finalize(n)}}}),o.algo={});return o}(Math);\n\n      (function(t){var n=md5,r=n.lib,e=r.WordArray,i=r.Hasher,o=n.algo,s=[];!function(){for(var n=0;n<64;n++)s[n]=4294967296*t.abs(t.sin(n+1))|0}();var a=o.MD5=i.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,n){for(var r=0;r<16;r++){var e=n+r,i=t[e];t[e]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}\n      var o=this._hash.words,a=t[n+0],d=t[n+1],l=t[n+2],p=t[n+3],y=t[n+4],g=t[n+5],w=t[n+6],v=t[n+7],_=t[n+8],m=t[n+9],B=t[n+10],x=t[n+11],b=t[n+12],S=t[n+13],H=t[n+14],z=t[n+15],C=o[0],M=o[1],A=o[2],D=o[3];C=c(C,M,A,D,a,7,s[0]),D=c(D,C,M,A,d,12,s[1]),A=c(A,D,C,M,l,17,s[2]),M=c(M,A,D,C,p,22,s[3]),C=c(C,M,A,D,y,7,s[4]),D=c(D,C,M,A,g,12,s[5]),A=c(A,D,C,M,w,17,s[6]),\n      M=c(M,A,D,C,v,22,s[7]),C=c(C,M,A,D,_,7,s[8]),D=c(D,C,M,A,m,12,s[9]),A=c(A,D,C,M,B,17,s[10]),M=c(M,A,D,C,x,22,s[11]),C=c(C,M,A,D,b,7,s[12]),D=c(D,C,M,A,S,12,s[13]),A=c(A,D,C,M,H,17,s[14]),C=u(C,M=c(M,A,D,C,z,22,s[15]),A,D,d,5,s[16]),D=u(D,C,M,A,w,9,s[17]),A=u(A,D,C,M,x,14,s[18]),M=u(M,A,D,C,a,20,s[19]),C=u(C,M,A,D,g,5,s[20]),D=u(D,C,M,A,B,9,s[21]),\n      A=u(A,D,C,M,z,14,s[22]),M=u(M,A,D,C,y,20,s[23]),C=u(C,M,A,D,m,5,s[24]),D=u(D,C,M,A,H,9,s[25]),A=u(A,D,C,M,p,14,s[26]),M=u(M,A,D,C,_,20,s[27]),C=u(C,M,A,D,S,5,s[28]),D=u(D,C,M,A,l,9,s[29]),A=u(A,D,C,M,v,14,s[30]),C=f(C,M=u(M,A,D,C,b,20,s[31]),A,D,g,4,s[32]),D=f(D,C,M,A,_,11,s[33]),A=f(A,D,C,M,x,16,s[34]),M=f(M,A,D,C,H,23,s[35]),C=f(C,M,A,D,d,4,s[36]),\n      D=f(D,C,M,A,y,11,s[37]),A=f(A,D,C,M,v,16,s[38]),M=f(M,A,D,C,B,23,s[39]),C=f(C,M,A,D,S,4,s[40]),D=f(D,C,M,A,a,11,s[41]),A=f(A,D,C,M,p,16,s[42]),M=f(M,A,D,C,w,23,s[43]),C=f(C,M,A,D,m,4,s[44]),D=f(D,C,M,A,b,11,s[45]),A=f(A,D,C,M,z,16,s[46]),C=h(C,M=f(M,A,D,C,l,23,s[47]),A,D,a,6,s[48]),D=h(D,C,M,A,v,10,s[49]),A=h(A,D,C,M,H,15,s[50]),M=h(M,A,D,C,g,21,s[51]),\n      C=h(C,M,A,D,b,6,s[52]),D=h(D,C,M,A,p,10,s[53]),A=h(A,D,C,M,B,15,s[54]),M=h(M,A,D,C,d,21,s[55]),C=h(C,M,A,D,_,6,s[56]),D=h(D,C,M,A,z,10,s[57]),A=h(A,D,C,M,w,15,s[58]),M=h(M,A,D,C,S,21,s[59]),C=h(C,M,A,D,y,6,s[60]),D=h(D,C,M,A,x,10,s[61]),A=h(A,D,C,M,l,15,s[62]),M=h(M,A,D,C,m,21,s[63]),o[0]=o[0]+C|0,o[1]=o[1]+M|0,o[2]=o[2]+A|0,o[3]=o[3]+D|0},_doFinalize:function(){\n      var n=this._data,r=n.words,e=8*this._nDataBytes,i=8*n.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(e/4294967296),s=e;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var f=c[u];c[u]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return a},\n      clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,n,r,e,i,o,s){var a=t+(n&r|~n&e)+i+s;return(a<<o|a>>>32-o)+n}function u(t,n,r,e,i,o,s){var a=t+(n&e|r&~e)+i+s;return(a<<o|a>>>32-o)+n}function f(t,n,r,e,i,o,s){var a=t+(n^r^e)+i+s;return(a<<o|a>>>32-o)+n}function h(t,n,r,e,i,o,s){var a=t+(r^(n|~e))+i+s;return(a<<o|a>>>32-o)+n}n.MD5=i._createHelper(a),n.HmacMD5=i._createHmacHelper(a)}(Math));\n    } else  {\n      md5 = utag.ut.md5;\n    }\n    // End Tealium MD5\n    /* eslint-enable */\n\n    u.ev = {\"view\" : 1, \"link\" : 1};\n    u.scriptrequested = false;\n    u.pixels_initialized = {};\n\n    u.clearEmptyKeys = function (object) {\n      for (var key in object) {\n        if (\n          object[key] === \"\" ||\n          object[key] === undefined ||\n          object[key] === null ||\n          object[key] === NaN ||\n          (utag.ut.typeOf(object[key]) === \"array\" && object[key].length === 0)\n        ) {\n          delete object[key];\n        }\n      }\n      return object;\n    };\n\n    // returns an MD5 hash of the input parameters (tealium_timestamp_epoch, tealium_random, and the name of the Facebook tracking event); should return a string of the MD5 digest\n    u.generateEventID = function (event, data, lookup_id) {\n      // if the version of utag.js is too old to provide the parameters referenced, then random numbers are generated in their place\n      var hash_input = (data[\"tealium_timestamp_epoch\"] || (function(){var d = new Date();return Math.floor(d.getTime()/1000);})()) + \"-\" + lookup_id + \"-\" + event + \"-\" + id,\n        event_id = md5.MD5(hash_input).toString();\n      return event_id;\n    };\n\n    u.isEmptyObject = function(object) {\n      if (typeof Object.keys === \"function\") {\n        if (Object.keys(object).length === 0) {\n          return true;\n        } else {\n          return false;\n        }\n      } else {\n        var key;\n        for (key in object) {\n          if (object.hasOwnProperty(key)) {\n            return false;\n          }\n        }\n        return true;\n      }\n    };\n\n    u.toBoolean = function (val) {\n      val = val || \"\";\n      return val === true || val.toLowerCase() === \"true\" || val.toLowerCase() === \"on\";\n    };\n\n    // creates an object of mapping overrides for a specific event\n    u.map_func = function (arr, obj, item) {\n      var i = arr.shift();\n      obj[i] = obj[i] || {};\n      if (arr.length > 0) {\n        u.map_func(arr,obj[i], item);\n      } else {\n        obj[i] = item;\n      }\n    };\n\n    u.processAMData = function (data) {\n      var processed_data = {}, key;\n      for (key in data) {\n        if (data.hasOwnProperty(key)) {\n          // Only lowercase value if the item being matched is recognized\n          if (key === \"ph\" || key === \"ge\" || key === \"db\" || key === \"zp\") {\n            key = key.replace(/\\s/g, \"\").toLowerCase();\n          }\n          if (key === \"ph\") {\n            // Phone number, remove any non numeric characters\n            data[key] = data[key].replace(/[^\\d]/g, \"\");\n          } else if (key === \"ge\") {\n            if (data[key] !== \"m\" && data[key] !== \"f\") {\n              utag.DB(u.id + \": Advanced Matching property 'ge' in wrong format. Removed from init call\");\n              continue;\n            }\n          } else if (key === \"db\") {\n            if (data[key].length !== 8) {\n              utag.DB( u.id + \": Advanced Matching property 'db' is not the correct length. Removed from init call\");\n              continue;\n            }\n          } else if (key === \"zp\") {\n            data[key] = data[key].replace(/[^\\d]/g, \"\");\n            if (data[key].length > 5) {\n              utag.DB(u.id + \": Advanced Matching property 'zp' is too long. Removed from init call\");\n              continue;\n            }\n          }\n        }\n        processed_data[key] = data[key];\n      }\n      return u.clearEmptyKeys(processed_data);\n    };\n\n    u.getEventContentsObject = function(event_data, event_name) {\n      if (!event_data.content_ids) {\n        return null;\n      }\n      var delivery_category = event_name === 'Purchase' ? event_data.delivery_category : '';\n      return event_data.content_ids.map(function(content_id, index) {\n        return u.clearEmptyKeys({\n          id: content_id,\n          quantity: parseInt(u.data.product_quantity[index]),\n          item_price: parseFloat(u.data.product_unit_price[index]),\n          delivery_category: delivery_category\n        })\n      })\n    }\n\n    ##UTGEN##\n\n    u.send = function (a, b) {\n      if (u.ev[a] || u.ev.all !== undefined) {\n        utag.DB(\"send:##UTID##\");\n        utag.DB(b);\n\n        var c, d, e, f, h, i, j, k, l, key, pixel_list, event,\n          base_tracking_type = \"track\",\n          event_data = {},\n          event_id = \"\",\n          event_name = \"\",\n          event_tracking_type = \"\",\n          fb_param = \"\",\n          has_purchase = false,\n          lookup_id = \"\",\n          tracking_queue = [],\n          standard_events_lookup = {\n            \"AddPaymentInfo\" : {\n              \"fb_params\" : [\"content_category\", \"content_ids\", \"contents\", \"currency\", \"value\"]\n            },\n            \"AddToCart\" : {\n              \"fb_params\" : [\"content_ids\", \"content_name\", \"content_type\", \"contents\", \"currency\", \"value\"]\n            },\n            \"AddToWishlist\" : {\n              \"fb_params\" : [\"content_name\", \"content_category\", \"content_ids\", \"contents\", \"currency\", \"value\"]\n            },\n            \"CompleteRegistration\" : {\n              \"fb_params\" : [\"content_name\", \"currency\", \"status\", \"value\"]\n            },\n            \"Contact\" : {\"fb_params\" : []},\n            \"CustomizeProduct\" : {\"fb_params\" : []},\n            \"Donate\" : {\"fb_params\" : []},\n            \"FindLocation\" : {\"fb_params\" : []},\n            \"InitiateCheckout\" : {\n              \"fb_params\" : [\"content_category\", \"content_ids\", \"contents\", \"currency\", \"num_items\", \"value\"]\n            },\n            \"Lead\" : {\n              \"fb_params\" : [\"content_category\", \"content_name\", \"currency\", \"value\"]\n            },\n            \"PageView\" : {\"fb_params\" : []},\n            \"Purchase\" : {\n              \"fb_params\" : [\"content_ids\", \"content_name\", \"content_type\", \"contents\", \"num_items\", \"currency\", \"value\", \"delivery_category\"],\n              \"req_params\" : [\"currency\", \"value\"]\n            },\n            \"Schedule\" : {\"fb_params\" : []},\n            \"Search\" : {\n              \"fb_params\" : [\"content_type\", \"content_category\", \"content_ids\", \"contents\", \"currency\", \"search_string\", \"value\"]\n            },\n            \"StartTrial\" : {\"fb_params\" : [\"currency\", \"predicted_ltv\", \"value\"]},\n            \"SubmitApplication\" : {\"fb_params\" : []},\n            \"Subscribe\" : {\"fb_params\" : [\"currency\", \"predicted_ltv\", \"value\"]},\n            \"ViewContent\" : {\n              \"fb_params\" : [\"content_ids\", \"content_name\", \"content_type\", \"contents\", \"currency\", \"value\"]\n            }\n          },\n          standard_params_lookup = {\n            \"content_category\" : function () {\n              return u.data.content_category || u.data.product_category;\n            },\n            \"content_name\" : function () {\n              return u.data.content_name || u.data.product_name;\n            },\n            \"content_ids\" : function () {\n              return u.data.content_ids || u.data.product_id;\n            },\n            \"content_type\" : function () {\n              return u.data.content_type;\n            },\n            \"contents\" : function () {\n              return u.data.contents;\n            },\n            \"currency\" : function () {\n              return u.data.currency || u.data.order_currency;\n            },\n            \"delivery_category\" : function () {\n              return u.data.delivery_category;\n            },\n            \"num_items\" : function () {\n              var i, num;\n              // first defer to direct mappings to the `num_items` destination\n              if (typeof u.data.num_items !== \"undefined\" && u.data.num_items !== \"\") {\n                num = u.data.num_items;\n              } else {\n                // otherwise, if auto calculate is enabled, determine the number of items\n                if (u.data.calc_items === true || u.data.calc_items === \"true\") {\n                  num = 0;\n                  for (i = 0; i < u.data.product_quantity.length; i++) {\n                    num += parseInt(u.data.product_quantity[i]);\n                  }\n                }\n              }\n              // cast num to the correct data type, if populated\n              if (typeof num !== \"undefined\" && num !== \"\") {\n                num = parseInt(num);\n              }\n              return num;\n            },\n            \"predicted_ltv\" : function () {\n              return u.data.predicted_ltv;\n            },\n            \"search_string\" : function () {\n              return u.data.search_string;\n            },\n            \"status\" : function () {\n              return u.data.status;\n            },\n            \"value\" : function (event) {\n              var val = \"\";\n              // first defer to direct mappings to the `value` destination\n              if (typeof u.data.value !== \"undefined\" && u.data.value !== \"\") {\n                val = u.data.value;\n              } else {\n                // otherwise, use E-Commerce extension fallbacks, depending on the event\n                if ((event === \"AddToCart\" || event === \"ViewContent\") && u.data.product_unit_price.length > 0) {\n                  val = u.data.product_unit_price[0];\n                } else if (event === \"Purchase\") {\n                  val = u.data.order_subtotal;\n                }\n              }\n              // cast val to the correct data type, if populated\n              if (typeof val !== \"undefined\" && val !== \"\") {\n                val = parseFloat(val);\n              }\n              return val;\n            }\n          };\n\n          u.processing_options = function () {\n            var key, ldu_option;\n            for( key in u.data.lmt_data.ldu_types){\n              if (u.data.lmt_data.ldu_types[key] === \"true\" || u.data.lmt_data.ldu_types[key] === true){\n                ldu_option = key;\n              }\n            }\n\n            if (u.data.lmt_data.use_ldu === \"true\" || u.data.lmt_data.use_ldu === true) {\n\n              switch (ldu_option){\n                case \"california\":\n                  u.data.lmt_data.country = 1;\n                  u.data.lmt_data.state = 1000;\n                break;\n                case \"geolocate\":\n                  u.data.lmt_data.country = 0;\n                  u.data.lmt_data.state = 0;\n                break;\n                default:\n                break;\n                }\n\n                fbq(\"dataProcessingOptions\", u.data.lmt_data.prcs_optns, u.data.lmt_data.country, u.data.lmt_data.state);\n\n              } else if (u.data.lmt_data.use_ldu === \"false\" || u.data.lmt_data.use_ldu === false){\n\n                fbq(\"dataProcessingOptions\", []);\n              }\n          }\n\n        u.data = {\n          \"base_url\" : \"https://connect.facebook.net/en_US/fbevents.js\",\n          // tag settings from Tealium iQ\n          \"advanced_matching\" : \"##UTVARconfig_advanced_matching##\",\n          \"generate_event_id\" : \"##UTVARconfig_generate_event_id##\",\n          \"pixel_id\" : \"##UTVARconfig_pixel_id##\",\n          // additional tag settings, configurable via mappings\n          \"autoConfig\" : true,\n          \"auto_page_view\" : true,\n          \"calc_items\" : true,\n          \"consent\" : \"\",\n          \"disablePushState\" : false,\n          \"track_single\" : true,\n          \"lmt_data\" : {\n            \"prcs_optns\" : [\"LDU\"],\n            \"country\" : 0,\n            \"state\" : 0\n          },\n          useContentsObject: false,\n          event_id: '',\n          // E-Commerce variables\n          \"order_id\" : \"\",\n          \"order_subtotal\" : \"\",\n          \"order_currency\" : \"\",\n          \"delivery_category\" : \"\",\n          \"product_id\" : [],\n          \"product_name\" : [],\n          \"product_category\" : [],\n          \"product_unit_price\" : [],\n          \"product_quantity\" : [],\n          // FB standard parameters\n          \"content_category\" : \"\",\n          \"content_ids\" : \"\",\n          \"content_name\" : \"\",\n          \"content_type\" : \"\", // following values are permitted by FB: product, product_group, destination, flight, hotel, vehicle, home_listing\n          \"contents\" : null,\n          \"currency\" : \"\",\n          \"num_items\" : \"\",\n          \"predicted_ltv\" : \"\",\n          \"search_string\" : \"\",\n          \"status\" : \"\",\n          \"value\" : \"\",\n          // FB Movie parameters\n          \"movieref\" : \"\",\n          // standard FB parameters for real estate, destination, flight, hotel, automotive\n          \"availability\" : \"\",\n          \"body_style\" : \"\",\n          \"checkin_date\" : \"\",\n          \"checkout_date\" : \"\",\n          \"city\" : \"\",\n          \"country\" : \"\",\n          \"departing_arrival_date\" : \"\",\n          \"departing_departure_date\" : \"\",\n          \"destination_airport\" : \"\",\n          \"destination_ids\" : \"\",\n          \"drivetrain\" : \"\",\n          \"exterior_color\" : \"\",\n          \"fuel_type\" : \"\",\n          \"hotel_score\" : \"\",\n          \"lease_end_date\" : \"\",\n          \"lease_start_date\" : \"\",\n          \"listing_type\" : \"\",\n          \"make\" : \"\",\n          \"model\" : \"\",\n          \"neighborhood\" : \"\",\n          \"num_adults\" : \"\",\n          \"num_children\" : \"\",\n          \"num_infants\" : \"\",\n          \"origin_airport\" : \"\",\n          \"postal_code\" : \"\",\n          \"preferred_baths_range\" : \"\",\n          \"preferred_beds_range\" : \"\",\n          \"preferred_num_stops\" : \"\",\n          \"preferred_price_range\" : \"\",\n          \"price\" : \"\",\n          \"property_type\" : \"\",\n          \"region\" : \"\",\n          \"returning_arrival_date\" : \"\",\n          \"returning_departure_date\" : \"\",\n          \"state_of_vehicle\" : \"\",\n          \"transmission\" : \"\",\n          \"travel_class\" : \"\",\n          \"travel_end\" : \"\",\n          \"travel_start\" : \"\",\n          \"user_score\" : \"\",\n          \"year\" : \"\",\n          // internal mapping objects\n          \"am\" : {},\n          \"store_data\": {},\n          \"custom\" : {},\n          \"event_queue\" : []\n        };\n\n        // Start tag-scoped extensions\n        ##UTEXTEND##\n        utag.DB(\"send:##UTID##:EXTENSIONS\");\n        utag.DB(b);\n        // End tag-scoped extensions\n\n        // Start Mapping\n        for (d in utag.loader.GV(u.map)) {\n          if (b[d] !== undefined && b[d] !== \"\") {\n            e = u.map[d].split(\",\");\n            for (f = 0; f < e.length; f++) {\n              if (u.data.hasOwnProperty(e[f]) || e[f].indexOf(\".\") > -1) {\n                u.map_func(e[f].split(\".\"), u.data, b[d]);\n              } else {\n                u.data.custom[e[f]] = b[d];\n              }\n            }\n          } else {\n            h = d.split(\":\");\n            // handles mappings from the event mapping toolbox tab\n            if (h.length === 2 && b[h[0]] === h[1]) {\n              if (u.map[d]) {\n                u.data.event_queue = u.data.event_queue.concat(u.map[d].split(\",\"));\n              }\n            // handles mappings from the content_type and cookie consent mapping toolbox tabs\n            } else if (h.length === 3 && b[h[0]] === h[1]) {\n              if (u.map[d]) {\n                u.data[h[2]] = u.map[d];\n              }\n            }\n          }\n        }\n        utag.DB(\"send:##UTID##:MAPPINGS\");\n        utag.DB(u.data);\n        // End Mapping\n\n        // Report required config is missing, and stop tag from firing.\n        if (!u.data.pixel_id) {\n          utag.DB(u.id + \": Tag not fired: Required attribute 'pixel_id' not populated.\");\n          return;\n        }\n\n        if (u.data.consent === \"grant\" || u.data.consent === \"revoke\") {\n          fbq(\"consent\", u.data.consent);\n        }\n\n        // controls the disablePushStateFlag; if true, then the fbevents.js file will allow multiple PageView events to fire on the same page: for SPAs and AJAX sites\n        if (u.data.disablePushState === \"true\" || u.data.disablePushState === true) {\n          fbq.disablePushState = true;\n        }\n\n        if (u.data.generate_event_id === \"true\" || u.data.generate_event_id === true) {\n          // lookup_id is used to build the eventId as well as identify the lookup in the utag.globals object; Tealium Collect can pick up the eventId from there and pass it to UDH\n          lookup_id = b.tealium_random;\n          if (typeof lookup_id !== \"undefined\") {\n            utag.globals[lookup_id] = window.utag.globals[lookup_id] || {};\n          } else {\n            lookup_id = Math.random().toFixed(16).substring(2);\n            utag.DB(\"send:##UTID##: The tealium_random variable was not defined. Any Facebook event IDs generated will not be collected by Tealium Collect. Please ensure you are using the latest version of utag.js to generate a tealium_random value.\");\n          }\n        }\n\n        if (u.data.track_single === true || u.data.track_single === \"true\") {\n          base_tracking_type += \"Single\";\n        }\n\n        // Pull E-Commerce extension values\n        // Mappings override E-Commerce extension values\n        u.data.order_currency = u.data.order_currency || b._ccurrency || \"\";\n        u.data.order_id = u.data.order_id || b._corder || \"\";\n        u.data.order_subtotal = u.data.order_subtotal || b._csubtotal || \"\";\n        if (u.data.product_category.length === 0 && b._ccat !== undefined) { u.data.product_category = b._ccat.slice(0); }\n        if (u.data.product_id.length === 0 && b._cprod !== undefined) { u.data.product_id = b._cprod.slice(0); }\n        if (u.data.product_name.length === 0 && b._cprodname !== undefined) { u.data.product_name = b._cprodname.slice(0); }\n        if (u.data.product_quantity.length === 0 && b._cquan !== undefined) { u.data.product_quantity = b._cquan.slice(0); }\n        if (u.data.product_unit_price.length === 0 && b._cprice !== undefined) { u.data.product_unit_price = b._cprice.slice(0); }\n\n        // automatically queue PageView tracking for each Tealium view event\n        if (a === \"view\" && (u.data.auto_page_view === true || u.data.auto_page_view === \"true\")) {\n          u.data.event_queue.push(\"PageView\");\n        }\n\n        // automatic Purchase tracking: if a Purchase event has not been queued and there's an order ID present, queue it\n        for (i = 0; i < u.data.event_queue.length; i++) {\n          if (u.data.event_queue[i] === \"Purchase\") {\n              has_purchase = true;\n          }\n        }\n        if (u.data.order_id && !has_purchase) {\n          u.data.event_queue.push(\"Purchase\");\n        }\n\n        // loop through the event_queue, build up the appropriate event data collection for each event, and push the collection into tracking_queue\n        for (i = 0; i < u.data.event_queue.length; i++) {\n          event_name = u.data.event_queue[i];\n          event_tracking_type = base_tracking_type;\n          event_data = {};\n\n          var event_name_underscores = event_name.replace(/ /g, '_');\n\n          // generate event ID for each event\n          if (u.data.generate_event_id === \"true\" || u.data.generate_event_id === true) {\n            if (b.tealium_random) {\n              event_id = u.data.event_id || u.generateEventID(event_name, b, lookup_id);\n              if (window.utag.globals[b.tealium_random]) {\n                //Legacy and single source implementation of event id\n                window.utag.globals[b.tealium_random][\"fb_event_id_\" + event_name_underscores] = event_id;\n                //Multi-source implementation of event id, generates one globals item per tag\n                window.utag.globals[b.tealium_random][\"fb_event_id_\" + event_name_underscores + \"_\" + id] = event_id;\n              }\n            } else {\n              utag.DB(\"send:##UTID##: Event ID Generation is enabled, but the tealium_random value was not found in the data layer. No event ID was generated for \" + event_name);\n            }\n\n            window.utag.globals[lookup_id][\"fb_event_id_\" + event_name_underscores] = event_id;\n          }\n\n          // determine if standard or custom event\n          if (typeof standard_events_lookup[event_name] === \"undefined\") {\n            event_tracking_type += \"Custom\";\n          } else {\n            // add the standard FB parameters for the event; each parameter is populated by a function with the same name\n            for (j = 0; j < standard_events_lookup[event_name].fb_params.length; j++) {\n              fb_param = standard_events_lookup[event_name].fb_params[j];\n              event_data[fb_param] = standard_params_lookup[fb_param](event_name);\n            }\n          }\n\n          // add in custom mappings\n          for (key in u.data.custom) {\n            if (u.data.custom.hasOwnProperty(key)) {\n              event_data[key] = u.data.custom[key];\n            }\n          }\n\n          // add event-specific mappings to event_data, overriding existing mappings, if present\n          if (typeof u.data[event_name] === \"object\") {\n            for (key in u.data[event_name]) {\n              if (u.data[event_name].hasOwnProperty(key)) {\n                if (key === \"value\" && utag.ut.typeOf(u.data[event_name][key]) === \"array\" && u.data[event_name][key].length > 0) {\n                  event_data[key] = parseFloat(u.data[event_name][key][0]);\n                } else {\n                  event_data[key] = u.data[event_name][key];\n                }\n              }\n            }\n          }\n\n          // verify that required parameters are populated\n          if (event_name === \"Purchase\") {\n            for (key in standard_events_lookup[event_name].req_params) {\n              if (standard_events_lookup[event_name].req_params.hasOwnProperty(key)) {\n                if (!event_data[standard_events_lookup[event_name].req_params[key]]) {\n                  utag.DB(\"send:##UTID##:\"+ event_name + \" tracking: The required parameter '\" + standard_events_lookup[event_name].req_params[key] + \"' is empty. \");\n                  continue;\n                }\n              }\n            }\n          }\n\n          if (u.toBoolean(u.data.useContentsObject) && !event_data.contents) {\n            event_data.contents = u.getEventContentsObject(event_data, event_name)\n          }\n\n          if (u.data.store_data && !u.isEmptyObject(u.data.store_data)) {\n            event_data.store_data = u.clearEmptyKeys(u.data.store_data);\n          }\n\n          tracking_queue.push(u.clearEmptyKeys({\n            \"event_tracking_type\": event_tracking_type,\n            \"event_name\": event_name,\n            \"event_data\": event_data,\n            \"event_id\": event_id\n          }));\n        }\n\n        // turns a comma-separated string of IDs into an array; the template will loop through the queued tracking events for each ID\n        pixel_list = u.data.pixel_id.split(/\\s*,\\s*/);\n        for (k = 0; k < pixel_list.length; k++) {\n          // setting autoConfig to false if explicitly disabled\n          if (u.data.autoConfig === \"false\" || u.data.autoConfig === false) {\n            fbq(\"set\", \"autoConfig\", false, pixel_list[k]);\n          }\n          // init call handling; if advanced matching is turned on, then an init call is needed for every view event. otherwise an init call is only needed once per page view\n          if (a === \"view\") {\n            // check if pixel has been initialized yet\n            if (!u.pixels_initialized[pixel_list[k]]) {\n              //Limited data use options\n              u.processing_options();\n\n              if (u.data.advanced_matching === \"true\" || u.data.advanced_matching === true) {\n                u.data.am = u.processAMData(u.data.am);\n                if (u.isEmptyObject(u.data.am)) {\n                  utag.DB(\"Advanced Matching is enabled, but no Advanced Matching data was mapped.\");\n                }\n                fbq(\"init\", pixel_list[k], u.data.am);\n              } else {\n                fbq(\"init\", pixel_list[k]);\n              }\n              u.pixels_initialized[pixel_list[k]] = true;\n            } else if (u.data.advanced_matching === \"true\" || u.data.advanced_matching === true) {\n              fbq(\"init\", pixel_list[k], u.processAMData(u.data.am));\n            }\n          }\n\n          // if trackSingle is enabled, then the queue of event tracking is trigged for each pixel ID\n          if (u.data.track_single === true || u.data.track_single === \"true\") {\n            for (l = 0; l < tracking_queue.length; l++) {\n              if (tracking_queue[l].event_id) {\n                fbq(tracking_queue[l].event_tracking_type, pixel_list[k], tracking_queue[l].event_name, u.clearEmptyKeys(tracking_queue[l].event_data), {eventID : tracking_queue[l].event_id});\n              } else {\n                fbq(tracking_queue[l].event_tracking_type, pixel_list[k], tracking_queue[l].event_name, u.clearEmptyKeys(tracking_queue[l].event_data));\n              }\n            }\n          }\n        }\n\n        // if trackSingle is not enabled, then event tracking is triggered only once for each queued event, regardless of the number of pixel IDs\n        if (u.data.track_single !== true && u.data.track_single !== \"true\") {\n          for (l = 0; l < tracking_queue.length; l++) {\n            if (tracking_queue[l].event_id) {\n              fbq(tracking_queue[l].event_tracking_type, tracking_queue[l].event_name, u.clearEmptyKeys(tracking_queue[l].event_data), {eventID : tracking_queue[l].event_id});\n            } else {\n              fbq(tracking_queue[l].event_tracking_type, tracking_queue[l].event_name, u.clearEmptyKeys(tracking_queue[l].event_data));\n            }\n          }\n        }\n\n        if (!u.scriptrequested) {\n          u.scriptrequested = true;\n\n\n          (function () {\n            var __oldDefine  = window.define;\n            var __oldModule  = window.module;\n            var __oldExports = window.exports;\n            var __hadAMD     = typeof __oldDefine === \"function\" && __oldDefine.amd;\n\n            try {\n              if (__hadAMD) window.define = undefined;\n              if (typeof __oldModule  !== \"undefined\") window.module  = undefined;\n              if (typeof __oldExports !== \"undefined\") window.exports = undefined;\n\n              !function(t,r){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define([],r):\"object\"==typeof exports?exports.clientParamBuilder=r():t.clientParamBuilder=r()}(self,(()=>(()=>{\"use strict\";var t={d:(r,e)=>{for(var n in e)t.o(e,n)&&!t.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},o:(t,r)=>Object.prototype.hasOwnProperty.call(t,r),r:t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})}},r={};t.r(r),t.d(r,{getFbc:()=>S,getFbp:()=>k,processAndCollectAllParams:()=>C,processAndCollectParams:()=>R});var e=999999999,n=7776e6,o=\"fb\",i=\"fbclid\",a=\"_fbc\",u=\"fbc\",c=\"_fbp\",l=\"fbp\",f=4,s=5,h=\"Bg\",p=[\"AQ\",\"Ag\",\"Aw\",\"BA\",\"BQ\",\"Bg\"];function y(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function d(t,r,e){return[o,t,r,e,h].join(\".\")}function v(t,r){var e=new RegExp(\"[?#&]\"+r.replace(/[\\[\\]]/g,\"\\\\$&\")+\"(=([^&#]*)|&|#|$)\").exec(t);return e?e[2]?decodeURIComponent(e[2].replace(/\\+/g,\" \")):\"\":null}function g(t){var r=[];try{for(var e=document.cookie.split(\";\"),n=\"^\\\\s*\".concat(t,\"=\\\\s*(.*?)\\\\s*$\"),o=new RegExp(n),i=0;i<e.length;i++){var a=e[i].match(o);a&&r.push(a[1])}return r&&r.hasOwnProperty(0)&&\"string\"==typeof r[0]?r[0]:\"\"}catch(t){throw new Error(\"Fail to read from cookie: \"+t.message)}}function m(t,r){return t.slice(t.length-1-r).join(\".\")}function w(t,r,e){var o,i,a,u,c,l,f=(o=n,new Date(Date.now()+Math.round(o)).toUTCString());if(\"string\"==typeof t&&\"string\"==typeof r&&\"string\"==typeof e)try{var s=encodeURIComponent(r);document.cookie=\"\".concat(t,\"=\").concat(s,\";\")+\"expires=\".concat(f,\";\")+\"domain=.\".concat(e,\";\")+\"\".concat((i=window.chrome,u=(a=window.navigator).vendor,c=void 0!==window.opr,l=a.userAgent.indexOf(\"Edg\")>-1,a.userAgent.match(\"CriOS\")||null==i||\"Google Inc.\"!==u||!1!==c||!1!==l?\"\":\"SameSite=Lax;\"))+\"path=/\"}catch(t){throw new Error(\"Fail to write cookie: \"+t.message)}}function b(t){var r=g(t);return\"string\"!=typeof r||\"\"===r?null:function(t){var r=t.split(\".\");if(r.length!==f&&r.length!==s)return null;var e,n,i=(n=5,function(t){if(Array.isArray(t))return t}(e=r)||function(t,r){var e=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=e){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;c=!1}else for(;!(c=(n=i.call(e)).done)&&(u.push(n.value),u.length!==r);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,n)||function(t,r){if(t){if(\"string\"==typeof t)return y(t,r);var e={}.toString.call(t).slice(8,-1);return\"Object\"===e&&t.constructor&&(e=t.constructor.name),\"Map\"===e||\"Set\"===e?Array.from(t):\"Arguments\"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?y(t,r):void 0}}(e,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),a=i[0],u=i[1],c=i[2],l=i[3],h=i[4];if(null!=h&&!p.includes(h))return null;if(a!==o)return null;var d=parseInt(u,10);if(isNaN(d))return null;var v=parseInt(c,10);if(isNaN(v))return null;if(null==l||\"\"===l)return null;var g={};return g.creationTime=v,g.payload=l,g.subdomainIndex=d,g.languageToken=h,g}(r)}function x(t,r){for(var e=window.location.hostname.split(\".\"),n=0;n<e.length;n++){var o=m(e,n),i=d(n,(new Date).getTime(),r);if(w(t,i,o),\"\"!==g(t))return i}return null}function L(t,r){var e=window.location.hostname.split(\".\");if(null==r.subdomainIndex||null==r.creationTime||null==r.payload)throw new Error(t+\" only partially set on cookie.\");var n=m(e,r.subdomainIndex),o=d(r.subdomainIndex,r.creationTime,r.payload);return w(t,o,n),o}function E(){var t=Math.floor(Math.random()*e),r=Math.floor(Math.random()*e);return t.toString()+r.toString()}function O(){var t=v(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,i);if(null===t&&(t=v(document.referrer,i)),null!=t&&t.length>500)return null;var r=b(a);if(null!=t){if(null==r)return x(a,t);var e=function(t,r){if(null===t||t.payload!==r){var e={};e.payload=r;var n=Date.now();return e.creationTime=\"number\"==typeof n?n:(new Date).getTime(),e.subdomainIndex=t.subdomainIndex,e}return t}(r,t);return L(a,e)}return null!=r?L(a,r):r}function j(){var t=b(c);if(null!=t)return L(c,t);var r=E();return x(c,r)}function S(){return g(a)}function k(){return g(c)}function _(t){return _=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},_(t)}function P(){P=function(){return r};var t,r={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,r,e){t[r]=e.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",u=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},\"\")}catch(t){l=function(t,r,e){return t[r]=e}}function f(t,r,e,n){var i=r&&r.prototype instanceof g?r:g,a=Object.create(i.prototype),u=new A(n||[]);return o(a,\"_invoke\",{value:S(t,e,u)}),a}function s(t,r,e){try{return{type:\"normal\",arg:t.call(r,e)}}catch(t){return{type:\"throw\",arg:t}}}r.wrap=f;var h=\"suspendedStart\",p=\"suspendedYield\",y=\"executing\",d=\"completed\",v={};function g(){}function m(){}function w(){}var b={};l(b,a,(function(){return this}));var x=Object.getPrototypeOf,L=x&&x(x(N([])));L&&L!==e&&n.call(L,a)&&(b=L);var E=w.prototype=g.prototype=Object.create(b);function O(t){[\"next\",\"throw\",\"return\"].forEach((function(r){l(t,r,(function(t){return this._invoke(r,t)}))}))}function j(t,r){function e(o,i,a,u){var c=s(t[o],t,i);if(\"throw\"!==c.type){var l=c.arg,f=l.value;return f&&\"object\"==_(f)&&n.call(f,\"__await\")?r.resolve(f.__await).then((function(t){e(\"next\",t,a,u)}),(function(t){e(\"throw\",t,a,u)})):r.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return e(\"throw\",t,a,u)}))}u(c.arg)}var i;o(this,\"_invoke\",{value:function(t,n){function o(){return new r((function(r,o){e(t,n,r,o)}))}return i=i?i.then(o,o):o()}})}function S(r,e,n){var o=h;return function(i,a){if(o===y)throw Error(\"Generator is already running\");if(o===d){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var c=k(u,n);if(c){if(c===v)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=y;var l=s(r,e,n);if(\"normal\"===l.type){if(o=n.done?d:p,l.arg===v)continue;return{value:l.arg,done:n.done}}\"throw\"===l.type&&(o=d,n.method=\"throw\",n.arg=l.arg)}}}function k(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,\"throw\"===n&&r.iterator.return&&(e.method=\"return\",e.arg=t,k(r,e),\"throw\"===e.method)||\"return\"!==n&&(e.method=\"throw\",e.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),v;var i=s(o,r.iterator,e.arg);if(\"throw\"===i.type)return e.method=\"throw\",e.arg=i.arg,e.delegate=null,v;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,\"return\"!==e.method&&(e.method=\"next\",e.arg=t),e.delegate=null,v):a:(e.method=\"throw\",e.arg=new TypeError(\"iterator result is not an object\"),e.delegate=null,v)}function I(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function T(t){var r=t.completion||{};r.type=\"normal\",delete r.arg,t.completion=r}function A(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(I,this),this.reset(!0)}function N(r){if(r||\"\"===r){var e=r[a];if(e)return e.call(r);if(\"function\"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,i=function e(){for(;++o<r.length;)if(n.call(r,o))return e.value=r[o],e.done=!1,e;return e.value=t,e.done=!0,e};return i.next=i}}throw new TypeError(_(r)+\" is not iterable\")}return m.prototype=w,o(E,\"constructor\",{value:w,configurable:!0}),o(w,\"constructor\",{value:m,configurable:!0}),m.displayName=l(w,c,\"GeneratorFunction\"),r.isGeneratorFunction=function(t){var r=\"function\"==typeof t&&t.constructor;return!!r&&(r===m||\"GeneratorFunction\"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,c,\"GeneratorFunction\")),t.prototype=Object.create(E),t},r.awrap=function(t){return{__await:t}},O(j.prototype),l(j.prototype,u,(function(){return this})),r.AsyncIterator=j,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new j(f(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(E),l(E,c,\"Generator\"),l(E,a,(function(){return this})),l(E,\"toString\",(function(){return\"[object Generator]\"})),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=N,A.prototype={constructor:A,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(T),!r)for(var e in this)\"t\"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function o(n,o){return u.type=\"throw\",u.arg=r,e.next=n,o&&(e.method=\"next\",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),l=n.call(a,\"finallyLoc\");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,r){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),T(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if(\"throw\"===n.type){var o=n.arg;T(e)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(r,e,n){return this.delegate={iterator:N(r),resultName:e,nextLoc:n},\"next\"===this.method&&(this.arg=t),v}},r}function I(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function T(t){return function(){var r=this,e=arguments;return new Promise((function(n,o){var i=t.apply(r,e);function a(t){I(i,n,o,a,u,\"next\",t)}function u(t){I(i,n,o,a,u,\"throw\",t)}a(void 0)}))}}function A(){return N.apply(this,arguments)}function N(){return(N=T(P().mark((function t(){var r,e;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==(null!=window.webkit&&null!=window.webkit.messageHandlers&&null!=window.webkit.messageHandlers.browserProperties)){t.next=6;break}return t.next=4,window.webkit.messageHandlers.browserProperties.postMessage(\"clickID\");case 4:return r=t.sent,t.abrupt(\"return\",r);case 6:if(!0!==(n=397,o=void 0,i=void 0,a=void 0,u=void 0,c=void 0,l=void 0,o=window.navigator.userAgent,i=o.indexOf(\"Android\")>=0,a=o.indexOf(\"FB_IAB\")>=0,u=o.indexOf(\"Instagram\")>=0,c=function(t){var r=0,e=t.match(/(FBAV|Instagram)[/\\s](\\d+)/);if(null!=e){var n=e[0].match(/(\\d+)/);null!=n&&(r=parseInt(n[0],10))}return r}(o),!!(l=i&&(a||u))&&(a&&null!=n?n<=c:u&&null!=instagramVersionReq?instagramVersionReq<=c:l)&&void 0!==window.XMLHttpRequest)){t.next=12;break}return t.next=10,new Promise((function(t,r){var e=new window.XMLHttpRequest;e.open(\"GET\",\"properties://browser/clickID\"),e.onload=function(){e.readyState===e.DONE&&e.status>=200&&e.status<300&&e.responseText&&t(e.responseText)},e.onerror=function(){r(new Error(\"warning: ebp got overrides.\"))},e.send()}));case 10:return e=t.sent,t.abrupt(\"return\",e);case 12:case\"end\":return t.stop()}var n,o,i,a,u,c,l}),t)})))).apply(this,arguments)}function G(t){return F.apply(this,arguments)}function F(){return(F=T(P().mark((function t(r){var e,n,o,i,u;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0===r){t.next=2;break}return t.abrupt(\"return\",!1);case 2:if(e=!1,n=!1,o=S(),i=k(),o&&\"\"!=o){t.next=11;break}return t.next=9,A();case 9:(u=t.sent)&&(x(a,u),e=!0);case 11:return i&&\"\"!=i||(x(c,E()),n=!0),t.abrupt(\"return\",e||n);case 13:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function M(t){return M=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},M(t)}function B(){B=function(){return r};var t,r={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,r,e){t[r]=e.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",u=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},\"\")}catch(t){l=function(t,r,e){return t[r]=e}}function f(t,r,e,n){var i=r&&r.prototype instanceof g?r:g,a=Object.create(i.prototype),u=new I(n||[]);return o(a,\"_invoke\",{value:S(t,e,u)}),a}function s(t,r,e){try{return{type:\"normal\",arg:t.call(r,e)}}catch(t){return{type:\"throw\",arg:t}}}r.wrap=f;var h=\"suspendedStart\",p=\"suspendedYield\",y=\"executing\",d=\"completed\",v={};function g(){}function m(){}function w(){}var b={};l(b,a,(function(){return this}));var x=Object.getPrototypeOf,L=x&&x(x(T([])));L&&L!==e&&n.call(L,a)&&(b=L);var E=w.prototype=g.prototype=Object.create(b);function O(t){[\"next\",\"throw\",\"return\"].forEach((function(r){l(t,r,(function(t){return this._invoke(r,t)}))}))}function j(t,r){function e(o,i,a,u){var c=s(t[o],t,i);if(\"throw\"!==c.type){var l=c.arg,f=l.value;return f&&\"object\"==M(f)&&n.call(f,\"__await\")?r.resolve(f.__await).then((function(t){e(\"next\",t,a,u)}),(function(t){e(\"throw\",t,a,u)})):r.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return e(\"throw\",t,a,u)}))}u(c.arg)}var i;o(this,\"_invoke\",{value:function(t,n){function o(){return new r((function(r,o){e(t,n,r,o)}))}return i=i?i.then(o,o):o()}})}function S(r,e,n){var o=h;return function(i,a){if(o===y)throw Error(\"Generator is already running\");if(o===d){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var c=k(u,n);if(c){if(c===v)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=y;var l=s(r,e,n);if(\"normal\"===l.type){if(o=n.done?d:p,l.arg===v)continue;return{value:l.arg,done:n.done}}\"throw\"===l.type&&(o=d,n.method=\"throw\",n.arg=l.arg)}}}function k(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,\"throw\"===n&&r.iterator.return&&(e.method=\"return\",e.arg=t,k(r,e),\"throw\"===e.method)||\"return\"!==n&&(e.method=\"throw\",e.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),v;var i=s(o,r.iterator,e.arg);if(\"throw\"===i.type)return e.method=\"throw\",e.arg=i.arg,e.delegate=null,v;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,\"return\"!==e.method&&(e.method=\"next\",e.arg=t),e.delegate=null,v):a:(e.method=\"throw\",e.arg=new TypeError(\"iterator result is not an object\"),e.delegate=null,v)}function _(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function P(t){var r=t.completion||{};r.type=\"normal\",delete r.arg,t.completion=r}function I(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(_,this),this.reset(!0)}function T(r){if(r||\"\"===r){var e=r[a];if(e)return e.call(r);if(\"function\"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,i=function e(){for(;++o<r.length;)if(n.call(r,o))return e.value=r[o],e.done=!1,e;return e.value=t,e.done=!0,e};return i.next=i}}throw new TypeError(M(r)+\" is not iterable\")}return m.prototype=w,o(E,\"constructor\",{value:w,configurable:!0}),o(w,\"constructor\",{value:m,configurable:!0}),m.displayName=l(w,c,\"GeneratorFunction\"),r.isGeneratorFunction=function(t){var r=\"function\"==typeof t&&t.constructor;return!!r&&(r===m||\"GeneratorFunction\"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,c,\"GeneratorFunction\")),t.prototype=Object.create(E),t},r.awrap=function(t){return{__await:t}},O(j.prototype),l(j.prototype,u,(function(){return this})),r.AsyncIterator=j,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new j(f(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(E),l(E,c,\"Generator\"),l(E,a,(function(){return this})),l(E,\"toString\",(function(){return\"[object Generator]\"})),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=T,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(P),!r)for(var e in this)\"t\"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function o(n,o){return u.type=\"throw\",u.arg=r,e.next=n,o&&(e.method=\"next\",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),l=n.call(a,\"finallyLoc\");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,r){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),P(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if(\"throw\"===n.type){var o=n.arg;P(e)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(r,e,n){return this.delegate={iterator:T(r),resultName:e,nextLoc:n},\"next\"===this.method&&(this.arg=t),v}},r}function D(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function R(t){var r={},e=O(t),n=j();return null!=e&&(r[u]=e),null!=n&&(r[l]=n),r}function C(t){return H.apply(this,arguments)}function H(){var t;return t=B().mark((function t(r){var e;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={},O(r),j(),t.next=5,G(!0);case 5:return t.sent,e[u]=S(),e[l]=k(),t.abrupt(\"return\",e);case 9:case\"end\":return t.stop()}}),t)})),H=function(){var r=this,e=arguments;return new Promise((function(n,o){var i=t.apply(r,e);function a(t){D(i,n,o,a,u,\"next\",t)}function u(t){D(i,n,o,a,u,\"throw\",t)}a(void 0)}))},H.apply(this,arguments)}return r})()));\n\n              if (window.clientParamBuilder && typeof window.clientParamBuilder.processAndCollectAllParams === \"function\") {\n                window.clientParamBuilder.processAndCollectAllParams(window.location.href);\n              }\n            } finally {\n              if (__hadAMD) window.define = __oldDefine;\n              if (typeof __oldModule  !== \"undefined\") window.module  = __oldModule;\n              if (typeof __oldExports !== \"undefined\") window.exports = __oldExports;\n            }\n          })();\n\n          u.loader({\n            \"type\" : \"script\",\n            \"src\" : u.data.base_url,\n            \"cb\" : null,\n            \"loc\" : \"script\",\n            \"id\" : \"utag_##UTID##\",\n            \"attrs\" : {}\n          });\n        }\n\n        utag.DB(\"send:##UTID##:COMPLETE\");\n      }\n    };\n    utag.o[loader].loader.LOAD(id);\n  }(\"##UTID##\", \"##UTLOADERID##\"));\n} catch (error) {\n  utag.DB(error);\n}\n//end tealium universal tag\n"
      }
    }
  ],
  "variables": [
    {
      "id": 1,
      "name": "page_name",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.page_name",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [19],
        "consent": [],
        "loadRules": [17]
      }
    },
    {
      "id": 2,
      "name": "product_id",
      "alias": "Product ID",
      "type": "udo",
      "notes": "Contains product ID(s) - multiple values should be comma-separated.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.product_id",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 3,
      "name": "product_sku",
      "alias": "Product SKU",
      "type": "udo",
      "notes": "Contains product SKU(s) - multiple values should be comma-separated.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.product_sku",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 4,
      "name": "product_name",
      "alias": "Product Name",
      "type": "udo",
      "notes": "Contains product name(s) - multiple values should be comma-separated.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.product_name",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 5,
      "name": "product_brand",
      "alias": "Product Brand",
      "type": "udo",
      "notes": "Contains product brand(s) - multiple values should be comma-separated.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.product_brand",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 6,
      "name": "product_category",
      "alias": "Product Category",
      "type": "udo",
      "notes": "Contains product category(s) - multiple values should be comma-separated.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.product_category",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": [16]
      }
    },
    {
      "id": 7,
      "name": "product_subcategory",
      "alias": "Product Subcategory",
      "type": "udo",
      "notes": "Contains product subcategory(s) - multiple values should be comma-separated.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.product_subcategory",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 8,
      "name": "product_unit_price",
      "alias": "Product Unit Price",
      "type": "udo",
      "notes": "Contains product unit price(s) - multiple values should be comma-separated.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.product_unit_price",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 9,
      "name": "product_list_price",
      "alias": "Product List Price",
      "type": "udo",
      "notes": "Contains product list price(s) before discount - multiple values should be comma-separated.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.product_list_price",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 10,
      "name": "product_quantity",
      "alias": "Product Quantity",
      "type": "udo",
      "notes": "Contains product quantity(s) - multiple values should be comma-separated.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.product_quantity",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 11,
      "name": "product_discount",
      "alias": "Product Discount",
      "type": "udo",
      "notes": "Contains product discount(s) - multiple values should be comma-separated.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.product_discount",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 12,
      "name": "order_id",
      "alias": "Order ID",
      "type": "udo",
      "notes": "Contains the order or transaction ID.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.order_id",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 13,
      "name": "order_total",
      "alias": "Order Total",
      "type": "udo",
      "notes": "Contains the order total value.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.order_total",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 14,
      "name": "order_subtotal",
      "alias": "Order Subtotal",
      "type": "udo",
      "notes": "Contains the order subtotal (not containing taxes & shipping).",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.order_subtotal",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 15,
      "name": "order_payment_type",
      "alias": "Order Payment Type",
      "type": "udo",
      "notes": "Contains the order payment type.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.order_payment_type",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 16,
      "name": "order_discount",
      "alias": "Order Discount",
      "type": "udo",
      "notes": "Contains the order discount (if any).",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.order_discount",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 17,
      "name": "order_shipping",
      "alias": "Order Shipping",
      "type": "udo",
      "notes": "Contains the order shipping value.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.order_shipping",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 18,
      "name": "order_tax",
      "alias": "Order Tax",
      "type": "udo",
      "notes": "Contains the order tax amount.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.order_tax",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 19,
      "name": "order_currency",
      "alias": "Order Currency",
      "type": "udo",
      "notes": "Contains the currency associated with the transaction, e.g. 'USD'.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.order_currency",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 20,
      "name": "order_coupon_code",
      "alias": "Order Coupon Code",
      "type": "udo",
      "notes": "Contains the order coupon code.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.order_coupon_code",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 21,
      "name": "order_coupon_discount",
      "alias": "Order Coupon Discount",
      "type": "udo",
      "notes": "Contains the order coupon discount.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.order_coupon_discount",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 22,
      "name": "order_store",
      "alias": "Order Store",
      "type": "udo",
      "notes": "Contains identification information for a store.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.order_store",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 23,
      "name": "order_type",
      "alias": "Order Type",
      "type": "udo",
      "notes": "Contains type of order/cart.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.order_type",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 24,
      "name": "customer_id",
      "alias": "Customer ID",
      "type": "udo",
      "notes": "Contains the customer ID.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.customer_id",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 25,
      "name": "customer_city",
      "alias": "Customer City",
      "type": "udo",
      "notes": "Contains the customer city.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.customer_city",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 26,
      "name": "customer_state",
      "alias": "Customer State",
      "type": "udo",
      "notes": "Contains the customer state.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.customer_state",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 27,
      "name": "customer_zip",
      "alias": "Customer Zip Code",
      "type": "udo",
      "notes": "Contains the customer zip/postal code.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.customer_zip",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 28,
      "name": "customer_country",
      "alias": "Customer Country",
      "type": "udo",
      "notes": "Contains the customer country.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.customer_country",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 29,
      "name": "customer_email",
      "alias": "Customer Email",
      "type": "udo",
      "notes": "Contains the customer email.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.customer_email",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [24],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 30,
      "name": "customer_type",
      "alias": "Customer Type",
      "type": "udo",
      "notes": "Contains the customer type.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.customer_type",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 58,
      "name": "site_region",
      "alias": "",
      "type": "udo",
      "notes": "Region of site.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.site_region",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 59,
      "name": "page_type",
      "alias": "",
      "type": "udo",
      "notes": "Page type.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.page_type",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [27],
        "consent": [],
        "loadRules": [16, 11]
      }
    },
    {
      "id": 60,
      "name": "utm_campaign",
      "alias": "",
      "type": "qp",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "qp.utm_campaign",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [4],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 61,
      "name": "ads_campaign_id",
      "alias": "",
      "type": "cp",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "cp.ads_campaign_id",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 62,
      "name": "eventAction",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.eventAction",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 63,
      "name": "eventCategory",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.eventCategory",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 64,
      "name": "eventLabel",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.eventLabel",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 72,
      "name": "gua",
      "alias": "",
      "type": "qp",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "qp.gua",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 73,
      "name": "gua_postfix_num",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.gua_postfix_num",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 74,
      "name": "gua_revised",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.gua_revised",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 75,
      "name": "event_type",
      "alias": "Event Type",
      "type": "udo",
      "notes": "Contains the event type, e.g. link click', 'button click').",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.event_type",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 76,
      "name": "event_target",
      "alias": "Event Target",
      "type": "udo",
      "notes": "Contains the name associated with an interactive element (link, button, etc).",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.event_target",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 77,
      "name": "event_attr1",
      "alias": "Event Attribute 1",
      "type": "udo",
      "notes": "Contains custom attribute 1 associated with an event.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.event_attr1",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 78,
      "name": "event_attr2",
      "alias": "Event Attribute 2",
      "type": "udo",
      "notes": "Contains custom attribute 2 associated with an event.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.event_attr2",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 79,
      "name": "event_attr3",
      "alias": "Event Attribute 3",
      "type": "udo",
      "notes": "Contains custom attribute 3 associated with an event.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.event_attr3",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 80,
      "name": "event_attr4",
      "alias": "Event Attribute 4",
      "type": "udo",
      "notes": "Contains custom attribute 4 associated with an event.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.event_attr4",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 84,
      "name": "page_section_name",
      "alias": "Page Section Name",
      "type": "udo",
      "notes": "Contains a user-friendly section, e.g. 'product section'.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.page_section_name",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 85,
      "name": "page_category_name",
      "alias": "Page Category Name",
      "type": "udo",
      "notes": "Contains a user-friendly category name, e.g. 'appliances'.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.page_category_name",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 86,
      "name": "page_subcategory_name",
      "alias": "Page Subcategory Name",
      "type": "udo",
      "notes": "Contains a user-friendly subcategory name, e.g. 'dishwashers'.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.page_subcategory_name",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 107,
      "name": "search_results",
      "alias": "Search Results",
      "type": "udo",
      "notes": "Contains the number of results returned with a search query.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.search_results",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 108,
      "name": "search_keyword",
      "alias": "Search Keyword",
      "type": "udo",
      "notes": "Contains the search query conducted by user.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.search_keyword",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 110,
      "name": "site_currency",
      "alias": "Site Currency",
      "type": "udo",
      "notes": "Contains the currency shown on site, e.g. 'USD'.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.site_currency",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 111,
      "name": "floodlight_category",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.floodlight_category",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 112,
      "name": "hashed_customer_email",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.hashed_customer_email",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [16],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 113,
      "name": "segmentation",
      "alias": "",
      "type": "cp",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "cp.segmentation",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [19],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 114,
      "name": "iq_event_id",
      "alias": "iQ Event ID",
      "type": "udo",
      "notes": "A system variable that contains the ID of an iQ event and used to fire a tag when an event happens.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.iq_event_id",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 115,
      "name": "tealium_event",
      "alias": "tealium_event",
      "type": "udo",
      "notes": "Contains the Tealium event.",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.tealium_event",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 116,
      "name": "scroll_depth",
      "alias": "Scroll Depth",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.scroll_depth",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 117,
      "name": "scroll_depth_type",
      "alias": "Scroll Depth Type",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.scroll_depth_type",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 118,
      "name": "scroll_direction",
      "alias": "Scroll Direction",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.scroll_direction",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 119,
      "name": "customer_email_cookie",
      "alias": "Customer Email (Cookie)",
      "type": "cp",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "cp.customer_email_cookie",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [25],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 120,
      "name": "customer_email_sha256",
      "alias": "Customer Email (SHA256)",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.customer_email_sha256",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [26],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 122,
      "name": "test_var",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.test_var",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 263,
      "name": "my_UDO_var",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.my_UDO_var",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 265,
      "name": "array_numbers",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.array_numbers",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 464,
      "name": "axp_xdm_link",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.axp_xdm_link",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 465,
      "name": "test_variable",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.test_variable",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 536,
      "name": "last_purchase_date",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.last_purchase_date",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 608,
      "name": "element_name",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.element_name",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 610,
      "name": "testing_revisions_api",
      "alias": "",
      "type": "udo",
      "notes": "",
      "context": null,
      "library": null,
      "uniqueIdentifier": "udo.testing_revisions_api",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 996,
      "name": "30 Day Order Count",
      "alias": null,
      "type": "va",
      "notes": "Set equal to the number of entries in the 30 Day Order timeline",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.5162",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 997,
      "name": "30 Day Order Value",
      "alias": null,
      "type": "va",
      "notes": "Set equal to rolling sum of Last Order Value in 30 Day Order timeline",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.5160",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 998,
      "name": "Active browser type",
      "alias": null,
      "type": "va",
      "notes": "The browser actively being used by the visitor",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.44",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 999,
      "name": "Active browser version",
      "alias": null,
      "type": "va",
      "notes": "The browser version actively being used by the visitor",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.48",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1000,
      "name": "Active device",
      "alias": null,
      "type": "va",
      "notes": "The device actively being used by the visitor",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.46",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1001,
      "name": "Active operating system",
      "alias": null,
      "type": "va",
      "notes": "The operating system actively being used by the visitor",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.45",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1002,
      "name": "Active platform",
      "alias": null,
      "type": "va",
      "notes": "The platform actively being used by the visitor",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.47",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1003,
      "name": "Add to Cart",
      "alias": null,
      "type": "va",
      "notes": "Set to True when add to cart event occurs",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.flags.5150",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1004,
      "name": "Added to Cart",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.flags.5213",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1005,
      "name": "AS-Testing Badge",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.badges.5106",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1006,
      "name": "Average visit duration in minutes",
      "alias": null,
      "type": "va",
      "notes": "Average visit duration in minutes",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.26",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1007,
      "name": "Average visits per week",
      "alias": null,
      "type": "va",
      "notes": "Average visits per week",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.29",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1008,
      "name": "Cart Abandoner",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.badges.5217",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1009,
      "name": "Cart Viewed",
      "alias": null,
      "type": "va",
      "notes": "Set to True when the cart page is viewed",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.flags.5144",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1010,
      "name": "cart_abandonment",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.flags.5209",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1011,
      "name": "Category (favorite)",
      "alias": null,
      "type": "va",
      "notes": "Capture the favorite product category for the visit",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.5118",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1012,
      "name": "Category (favorite)",
      "alias": null,
      "type": "va",
      "notes": "Captures the favorite number for Tally: Category",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.5119",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1013,
      "name": "Category (favorite)_copy",
      "alias": null,
      "type": "va",
      "notes": "Captures the favorite number for Tally: Category",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.5206",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1014,
      "name": "Customer Email",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.5100",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1015,
      "name": "Customer Email - Latest",
      "alias": null,
      "type": "va",
      "notes": "Capture the last or latest customer email address seen",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.5132",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1016,
      "name": "Customer ID - Count",
      "alias": null,
      "type": "va",
      "notes": "Get count of all unique customer ID values seen",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.5140",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1017,
      "name": "Customer ID - Initial",
      "alias": null,
      "type": "va",
      "notes": "Capture the first or initial customer ID seen",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.5134",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1018,
      "name": "Customer ID - Latest",
      "alias": null,
      "type": "va",
      "notes": "Capture the last or latest customer ID seen",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.5136",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1019,
      "name": "Customer Overall Spend",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.5102",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1020,
      "name": "Days since last visit",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.5246",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1021,
      "name": "Direct visit",
      "alias": null,
      "type": "va",
      "notes": "The user navigated directly to the site",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.flags.14",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1022,
      "name": "Email",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.5108",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1023,
      "name": "Entry URL",
      "alias": null,
      "type": "va",
      "notes": "URL of the first page visited",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.5",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1024,
      "name": "Event count",
      "alias": null,
      "type": "va",
      "notes": "Total number of events in visit",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.metrics.7",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1025,
      "name": "Exit URL",
      "alias": null,
      "type": "va",
      "notes": "URL of the last page visited",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.6",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1026,
      "name": "Fan",
      "alias": null,
      "type": "va",
      "notes": "More than two total visits and more direct visits than refers",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.badges.30",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1027,
      "name": "First visit",
      "alias": null,
      "type": "va",
      "notes": "Date of first visit",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.dates.23",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1028,
      "name": "Frequent visitor",
      "alias": null,
      "type": "va",
      "notes": "Two or more average visits per week",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.badges.31",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1029,
      "name": "grant_full_consent",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.flags.5222",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1030,
      "name": "HasPurchased",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.flags.5112",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1031,
      "name": "Last Active Event Timestamp",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.dates.5258",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1032,
      "name": "Last event URL",
      "alias": null,
      "type": "va",
      "notes": "Last event URL for visitor",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.17",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1033,
      "name": "Last Product Viewed - SKU",
      "alias": null,
      "type": "va",
      "notes": "Capture the most recent sku viewed",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.5128",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1034,
      "name": "Last Purchase Date",
      "alias": null,
      "type": "va",
      "notes": "Capture the date of the last purchase",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.dates.5148",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1035,
      "name": "Last visit",
      "alias": null,
      "type": "va",
      "notes": "Date of last visit",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.dates.24",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1036,
      "name": "last_purchase_date",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.dates.5228",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1037,
      "name": "Lifetime Average Order Value",
      "alias": null,
      "type": "va",
      "notes": "The average of the order total",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.5152",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1038,
      "name": "Lifetime browser types used (favorite)",
      "alias": null,
      "type": "va",
      "notes": "Captures the favorite metric for Metric Set: Lifetime browser types used",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.56",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1039,
      "name": "Lifetime browser versions used (favorite)",
      "alias": null,
      "type": "va",
      "notes": "Captures the favorite metric for Metric Set: Lifetime browser versions used",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.62",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1040,
      "name": "Lifetime devices used (favorite)",
      "alias": null,
      "type": "va",
      "notes": "Captures the favorite metric for Metric Set: Lifetime devices used",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.54",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1041,
      "name": "Lifetime event count",
      "alias": null,
      "type": "va",
      "notes": "Total number of events triggered by user",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.22",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1042,
      "name": "Lifetime operating systems used (favorite)",
      "alias": null,
      "type": "va",
      "notes": "Captures the favorite metric for Metric Set: Lifetime operating systems used",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.58",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1043,
      "name": "Lifetime Order Count",
      "alias": null,
      "type": "va",
      "notes": "The lifetime count of orders",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.5156",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1044,
      "name": "Lifetime Order Value",
      "alias": null,
      "type": "va",
      "notes": "The lifetime sum of all orders",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.5154",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1045,
      "name": "Lifetime platforms used (favorite)",
      "alias": null,
      "type": "va",
      "notes": "Captures the favorite metric for Metric Set: Lifetime platforms used",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.60",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1046,
      "name": "Lifetime visit count",
      "alias": null,
      "type": "va",
      "notes": "Total number of times user has visited site",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.21",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1047,
      "name": "No visit in 90+ days (Known users)",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.badges.5251",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1048,
      "name": "Online - Lifetime Order Total",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.5104",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1049,
      "name": "Order Completed",
      "alias": null,
      "type": "va",
      "notes": "Set to True when an order is placed",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.flags.5146",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1050,
      "name": "order_currency",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.5205",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1051,
      "name": "Page Type",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.5116",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1052,
      "name": "PDP Category (favorite)",
      "alias": null,
      "type": "va",
      "notes": "Capture the favorite category for product detail page (PDP) only",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.5122",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1053,
      "name": "PDP Category (favorite)",
      "alias": null,
      "type": "va",
      "notes": "Captures the favorite number for Tally: PDP Category",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.5123",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1054,
      "name": "PDP View Count",
      "alias": null,
      "type": "va",
      "notes": "Increment the # of produce detail page views for the visitor",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.5126",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1055,
      "name": "previous_last_purchase_date",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.dates.5230",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1056,
      "name": "Product View count",
      "alias": null,
      "type": "va",
      "notes": "Number of Products viewed in a single session.",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.metrics.5198",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1057,
      "name": "product_viewed",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.5310",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1058,
      "name": "Purchase",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.flags.5215",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1059,
      "name": "Referred visit",
      "alias": null,
      "type": "va",
      "notes": "The user was referred from another site",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.flags.13",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1060,
      "name": "Remove from audience",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.properties.5263",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1061,
      "name": "Returning visitor",
      "alias": null,
      "type": "va",
      "notes": "Return visitor",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.flags.27",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1062,
      "name": "tealium_cf_visit_ttl",
      "alias": null,
      "type": "va",
      "notes": "",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.properties.82",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1063,
      "name": "Total direct visits",
      "alias": null,
      "type": "va",
      "notes": "Total direct visits",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.15",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1064,
      "name": "Total referred visits",
      "alias": null,
      "type": "va",
      "notes": "Total referred visits",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.16",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1065,
      "name": "Total time spent on site in minutes",
      "alias": null,
      "type": "va",
      "notes": "Sum duration of all user visits",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.25",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1066,
      "name": "Unbadged",
      "alias": null,
      "type": "va",
      "notes": "The visitor has not been assigned any badges",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.badges.32",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1067,
      "name": "Visit duration",
      "alias": null,
      "type": "va",
      "notes": "Visit duration in minutes",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.metrics.12",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1068,
      "name": "Visit end",
      "alias": null,
      "type": "va",
      "notes": "Visit end date",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.dates.11",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1069,
      "name": "Visit start",
      "alias": null,
      "type": "va",
      "notes": "Visit start date",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.dates.10",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1070,
      "name": "Weeks since first visit",
      "alias": null,
      "type": "va",
      "notes": "Weeks elapsed since first visit",
      "context": "visitor",
      "library": "main",
      "uniqueIdentifier": "va.metrics.28",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": 1071,
      "name": "Weeks since first visit temp",
      "alias": null,
      "type": "va",
      "notes": "Temporary store for computer value",
      "context": "current_visit",
      "library": "main",
      "uniqueIdentifier": "va.current_visit.metrics.80",
      "imported": "AudienceStream",
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": null,
      "name": "viewport_height",
      "alias": null,
      "type": "dom",
      "notes": null,
      "context": null,
      "library": null,
      "uniqueIdentifier": "dom.viewport_height",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": null,
      "name": "viewport_width",
      "alias": null,
      "type": "dom",
      "notes": null,
      "context": null,
      "library": null,
      "uniqueIdentifier": "dom.viewport_width",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": null,
      "name": "title",
      "alias": null,
      "type": "dom",
      "notes": null,
      "context": null,
      "library": null,
      "uniqueIdentifier": "dom.title",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": null,
      "name": "domain",
      "alias": null,
      "type": "dom",
      "notes": null,
      "context": null,
      "library": null,
      "uniqueIdentifier": "dom.domain",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": null,
      "name": "hash",
      "alias": null,
      "type": "dom",
      "notes": null,
      "context": null,
      "library": null,
      "uniqueIdentifier": "dom.hash",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": null,
      "name": "pathname",
      "alias": null,
      "type": "dom",
      "notes": null,
      "context": null,
      "library": null,
      "uniqueIdentifier": "dom.pathname",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [3],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": null,
      "name": "query_string",
      "alias": null,
      "type": "dom",
      "notes": null,
      "context": null,
      "library": null,
      "uniqueIdentifier": "dom.query_string",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": null,
      "name": "referrer",
      "alias": null,
      "type": "dom",
      "notes": null,
      "context": null,
      "library": null,
      "uniqueIdentifier": "dom.referrer",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    },
    {
      "id": null,
      "name": "url",
      "alias": null,
      "type": "dom",
      "notes": null,
      "context": null,
      "library": null,
      "uniqueIdentifier": "dom.url",
      "imported": null,
      "usedIn": {
        "tags": [],
        "events": [],
        "extensions": [],
        "consent": [],
        "loadRules": []
      }
    }
  ],
  "versionIds": null,
  "templateList": {
    "2": null,
    "10": null,
    "57": null,
    "loader": "uTag Loader",
    "cmShowexplicit": "Consent Manager - Show Explicit",
    "cmDomready": "Consent Manager - Dom Ready",
    "sync": "uTag Sync",
    "cmShowDNSPrompt": "Consent Manager - Do Not Sell Prompt",
    "cmDoNotSell": "Consent Manager - Do Not Sell Preferences",
    "utcm_2d67e302-3f16-4f6f-9714-7d0bbf859d93": "Consent Integrations",
    "cmGeneral": "Consent Manager - General",
    "utcm_framework": "Consent Integrations - Framework",
    "fullConsentEventHandler": "Consent Manager - Consent Logging - Accept/Decline Consent",
    "cmShowDNSBanner": "Consent Manager - Do Not Sell Banner",
    "partialConsentEventHandler": "Consent Manager - Consent Logging - Grant Partial Consent",
    "utcm_166eb80d-6fee-49bf-c86f-4ddfa8860022": "Consent Integrations"
  }
}
